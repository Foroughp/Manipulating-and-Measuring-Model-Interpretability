
<!DOCTYPE html>
<html>
<head>
<style type="text/css">
.knitr .inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.rimage .left {
  text-align: left;
}
.rimage .right {
  text-align: right;
}
.rimage .center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
  <script src="https://yihui.name/media/js/center-images.js"></script>
  <title>A Report Generated by knitr</title>
</head>
<body>

  <p>This report is automatically generated with the R
    package <a href="https://yihui.name/knitr/"><strong>knitr</strong></a>
    (version <code class="knitr inline">1.20</code>)
    .</p>

<div class="chunk" id="auto-report"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(lmerTest)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: lme4
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: Matrix
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'lmerTest'
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:lme4':
## 
##     lmer
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:stats':
## 
##     step
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(lsmeans)</span>
</pre></div>
<div class="message"><pre class="knitr r">## The 'lsmeans' package is being deprecated.
## Users are encouraged to switch to 'emmeans'.
## See help('transition') for more information, including how
## to convert 'lsmeans' objects and scripts to work with 'emmeans'.
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(scales)</span>
<span class="hl kwd">library</span><span class="hl std">(ggrepel)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: ggplot2
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(readr)</span>
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'readr'
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:scales':
## 
##     col_factor
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(magrittr)</span>
<span class="hl kwd">library</span><span class="hl std">(dplyr)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: package 'dplyr' was built under R version 3.5.2
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'dplyr'
</pre></div>
<div class="message"><pre class="knitr r">## The following objects are masked from 'package:stats':
## 
##     filter, lag
</pre></div>
<div class="message"><pre class="knitr r">## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(tidyr)</span>
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'tidyr'
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:magrittr':
## 
##     extract
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:Matrix':
## 
##     expand
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(ggplot2)</span>
<span class="hl kwd">library</span><span class="hl std">(lsr)</span>
<span class="hl kwd">library</span><span class="hl std">(emmeans)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: package 'emmeans' was built under R version 3.5.2
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'emmeans'
</pre></div>
<div class="message"><pre class="knitr r">## The following objects are masked from 'package:lsmeans':
## 
##     .all.vars, .aovlist.dffun, .diag, .get.offset, .my.vcov, add_grouping,
##     as.glht, contrast, get.lsm.option, lsm, lsm.options, lsmeans, lsmip, lsmobj,
##     lstrends, make.tran, pmm, pmmeans, pmmip, pmmobj, pmtrends, regrid, test
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(xtable)</span>
<span class="hl kwd">theme_set</span><span class="hl std">(</span><span class="hl kwd">theme_bw</span><span class="hl std">())</span>
<span class="hl kwd">emm_options</span><span class="hl std">(</span><span class="hl kwc">pbkrtest.limit</span> <span class="hl std">=</span> <span class="hl num">12500</span><span class="hl std">)</span>
<span class="hl kwd">emm_options</span><span class="hl std">(</span><span class="hl kwc">lmerTest.limit</span> <span class="hl std">=</span> <span class="hl num">12500</span><span class="hl std">)</span>

<span class="hl kwd">source</span><span class="hl std">(</span><span class="hl str">'lib.R'</span><span class="hl std">)</span>
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'ggridges'
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:ggplot2':
## 
##     scale_discrete_manual
</pre></div>
<div class="message"><pre class="knitr r">## ── Attaching packages ───────────────────────────────────────────────── tidyverse 1.2.1 ──
</pre></div>
<div class="message"><pre class="knitr r">## ✔ tibble  2.1.3     ✔ stringr 1.3.1
## ✔ purrr   0.2.5     ✔ forcats 0.3.0
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: package 'tibble' was built under R version 3.5.2
</pre></div>
<div class="message"><pre class="knitr r">## ── Conflicts ──────────────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ readr::col_factor()               masks scales::col_factor()
## ✖ purrr::discard()                  masks scales::discard()
## ✖ tidyr::expand()                   masks Matrix::expand()
## ✖ tidyr::extract()                  masks magrittr::extract()
## ✖ dplyr::filter()                   masks stats::filter()
## ✖ dplyr::lag()                      masks stats::lag()
## ✖ ggridges::scale_discrete_manual() masks ggplot2::scale_discrete_manual()
## ✖ purrr::set_names()                masks magrittr::set_names()
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwa">if</span> <span class="hl std">(</span><span class="hl opt">!</span><span class="hl kwd">dir.exists</span><span class="hl std">(</span><span class="hl str">'figures/exp1'</span><span class="hl std">))</span>
   <span class="hl kwd">dir.create</span><span class="hl std">(</span><span class="hl str">'figures/exp1'</span><span class="hl std">,</span> <span class="hl kwc">recursive</span> <span class="hl std">= T)</span>

<span class="hl std">my_pallete</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">'#92c5de'</span><span class="hl std">,</span><span class="hl str">'#0571b0'</span><span class="hl std">,</span><span class="hl str">'#f4a582'</span><span class="hl std">,</span><span class="hl str">'#ca0020'</span><span class="hl std">,</span><span class="hl str">'#404040'</span><span class="hl std">)</span>
<span class="hl com">#######################################################</span>
<span class="hl com"># Training phase</span>
<span class="hl com">#######################################################</span>
<span class="hl com"># read data</span>
<span class="hl std">training_responses</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">read_csv</span><span class="hl std">(</span><span class="hl str">&quot;data/exp1/data_training.csv&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Parsed with column specification:
## cols(
##   worker_id = col_character(),
##   condition = col_character(),
##   q_id = col_integer(),
##   model_pred = col_double(),
##   actual_price = col_double(),
##   final_pred = col_double()
## )
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># recode conditions</span>
<span class="hl std">training_responses</span> <span class="hl kwb">&lt;-</span> <span class="hl std">training_responses</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">condition</span> <span class="hl std">=</span> <span class="hl kwd">recode_factor</span><span class="hl std">(</span><span class="hl kwd">as.factor</span><span class="hl std">(condition),</span>
                                   <span class="hl str">&quot;C1&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;CLEAR-2&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C3&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;CLEAR-8&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C0&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;BB-2&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C2&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;BB-8&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C4&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;NO-MODEL&quot;</span><span class="hl std">))</span>

<span class="hl com"># break data in two parts for histograms</span>
<span class="hl com"># update apartment indeces to start from 1</span>
<span class="hl std">training_responses1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(training_responses, q_id</span> <span class="hl opt">&lt;</span> <span class="hl num">5</span><span class="hl std">)</span>
<span class="hl std">training_responses1</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl kwb">&lt;-</span> <span class="hl std">training_responses1</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl opt">+</span> <span class="hl num">1</span>
<span class="hl std">training_responses2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(training_responses, q_id</span> <span class="hl opt">&gt;=</span> <span class="hl num">5</span><span class="hl std">)</span>
<span class="hl std">training_responses2</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl kwb">&lt;-</span> <span class="hl std">training_responses2</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl opt">+</span> <span class="hl num">1</span>


<span class="hl com"># plot</span>
<span class="hl std">breaks</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">seq</span><span class="hl std">(</span><span class="hl num">0</span><span class="hl std">,</span><span class="hl num">3</span><span class="hl std">,</span><span class="hl num">1</span><span class="hl std">)</span>
<span class="hl kwd">ggplot</span><span class="hl std">(training_responses1,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">x</span> <span class="hl std">= final_pred,</span> <span class="hl kwc">fill</span><span class="hl std">=condition))</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_histogram</span><span class="hl std">(</span><span class="hl kwc">binwidth</span> <span class="hl std">=</span> <span class="hl num">0.1</span><span class="hl std">,</span> <span class="hl kwc">alpha</span> <span class="hl std">=</span> <span class="hl num">0.5</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= model_pred,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Model's prediction&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= actual_price,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Actual price&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_fill_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span><span class="hl kwc">values</span><span class="hl std">=my_pallete)</span> <span class="hl opt">+</span> <span class="hl kwd">scale_colour_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span> <span class="hl kwc">values</span><span class="hl std">=my_pallete)</span><span class="hl opt">+</span>
  <span class="hl kwd">facet_grid</span><span class="hl std">(</span><span class="hl kwd">vars</span><span class="hl std">(condition),</span> <span class="hl kwd">vars</span><span class="hl std">(q_id),</span> <span class="hl kwc">scale</span><span class="hl std">=</span><span class="hl str">'free'</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">xlab</span><span class="hl std">(</span><span class="hl str">&quot;Participants' price prediction&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">ylab</span><span class="hl std">(</span><span class="hl str">&quot;Number of participants&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_x_continuous</span><span class="hl std">(</span><span class="hl kwc">breaks</span> <span class="hl std">= breaks,</span> <span class="hl kwc">labels</span> <span class="hl std">=</span> <span class="hl kwd">sprintf</span><span class="hl std">(</span><span class="hl str">'$%dM'</span><span class="hl std">, breaks))</span> <span class="hl opt">+</span>
  <span class="hl kwd">theme</span><span class="hl std">(</span><span class="hl kwc">panel.grid.major</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">panel.grid.minor</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span>
        <span class="hl kwc">legend.position</span><span class="hl std">=</span><span class="hl str">&quot;top&quot;</span><span class="hl std">,</span> <span class="hl kwc">legend.title</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">legend.key</span> <span class="hl std">=</span> <span class="hl kwd">element_rect</span><span class="hl std">(</span><span class="hl kwc">size</span> <span class="hl std">=</span> <span class="hl num">10</span><span class="hl std">),</span>
        <span class="hl kwc">legend.key.size</span> <span class="hl std">=</span> <span class="hl kwd">unit</span><span class="hl std">(</span><span class="hl num">1.5</span><span class="hl std">,</span> <span class="hl str">'lines'</span><span class="hl std">),</span> <span class="hl kwc">legend.text</span><span class="hl std">=</span><span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">12</span><span class="hl std">),</span><span class="hl kwc">axis.title.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">20</span><span class="hl std">),</span>
        <span class="hl kwc">axis.title.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">18</span><span class="hl std">),</span> <span class="hl kwc">axis.text.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">angle</span> <span class="hl std">=</span> <span class="hl num">45</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">),</span>
        <span class="hl kwc">axis.text.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">),</span> <span class="hl kwc">strip.text</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">))</span>
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-1-Rhtmlauto-report-1.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">filename</span> <span class="hl std">=</span> <span class="hl str">&quot;figures/exp1/dist_training_final_prediction_1.pdf&quot;</span><span class="hl std">,</span> <span class="hl kwc">height</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">,</span> <span class="hl kwc">width</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">)</span>

<span class="hl kwd">ggplot</span><span class="hl std">(training_responses2,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">x</span> <span class="hl std">= final_pred,</span> <span class="hl kwc">fill</span><span class="hl std">=condition))</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_histogram</span><span class="hl std">(</span><span class="hl kwc">binwidth</span> <span class="hl std">=</span> <span class="hl num">0.1</span><span class="hl std">,</span> <span class="hl kwc">alpha</span> <span class="hl std">=</span> <span class="hl num">0.5</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= model_pred,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Model's prediction&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= actual_price,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Actual price&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_fill_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span><span class="hl kwc">values</span><span class="hl std">=my_pallete)</span> <span class="hl opt">+</span> <span class="hl kwd">scale_colour_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span> <span class="hl kwc">values</span><span class="hl std">=my_pallete)</span><span class="hl opt">+</span>
  <span class="hl kwd">facet_grid</span><span class="hl std">(</span><span class="hl kwd">vars</span><span class="hl std">(condition),</span> <span class="hl kwd">vars</span><span class="hl std">(q_id),</span> <span class="hl kwc">scale</span><span class="hl std">=</span><span class="hl str">'free'</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">xlab</span><span class="hl std">(</span><span class="hl str">&quot;Participants' price prediction&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">ylab</span><span class="hl std">(</span><span class="hl str">&quot;Number of participants&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_x_continuous</span><span class="hl std">(</span><span class="hl kwc">breaks</span> <span class="hl std">= breaks,</span> <span class="hl kwc">labels</span> <span class="hl std">=</span> <span class="hl kwd">sprintf</span><span class="hl std">(</span><span class="hl str">'$%dM'</span><span class="hl std">, breaks))</span> <span class="hl opt">+</span>
  <span class="hl kwd">theme</span><span class="hl std">(</span><span class="hl kwc">panel.grid.major</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">panel.grid.minor</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span>
        <span class="hl kwc">legend.position</span><span class="hl std">=</span><span class="hl str">&quot;top&quot;</span><span class="hl std">,</span> <span class="hl kwc">legend.title</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">legend.key</span> <span class="hl std">=</span> <span class="hl kwd">element_rect</span><span class="hl std">(</span><span class="hl kwc">size</span> <span class="hl std">=</span> <span class="hl num">10</span><span class="hl std">),</span><span class="hl kwc">legend.key.size</span> <span class="hl std">=</span> <span class="hl kwd">unit</span><span class="hl std">(</span><span class="hl num">1.5</span><span class="hl std">,</span> <span class="hl str">'lines'</span><span class="hl std">),</span> <span class="hl kwc">legend.text</span><span class="hl std">=</span><span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">12</span><span class="hl std">),</span>
        <span class="hl kwc">axis.title.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">20</span><span class="hl std">),</span> <span class="hl kwc">axis.title.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">18</span><span class="hl std">),</span> <span class="hl kwc">axis.text.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">angle</span> <span class="hl std">=</span> <span class="hl num">45</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">axis.text.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">),</span>
        <span class="hl kwc">strip.text</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">))</span>
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-1-Rhtmlauto-report-2.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">filename</span> <span class="hl std">=</span> <span class="hl str">&quot;figures/exp1/dist_training_final_prediction_2.pdf&quot;</span><span class="hl std">,</span> <span class="hl kwc">height</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">,</span> <span class="hl kwc">width</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">)</span>

<span class="hl com">#######################################################</span>
<span class="hl com"># Testing phase</span>
<span class="hl com">#######################################################</span>
<span class="hl com"># read data</span>
<span class="hl std">responses</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">read_csv</span><span class="hl std">(</span><span class="hl str">&quot;data/exp1/data.csv&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Parsed with column specification:
## cols(
##   worker_id = col_character(),
##   condition = col_character(),
##   q_id = col_integer(),
##   model_pred = col_double(),
##   actual_price = col_double(),
##   user_model_pred = col_double(),
##   user_model_pred_conf = col_integer(),
##   model_conf = col_integer(),
##   final_pred = col_double(),
##   user_final_price_conf = col_integer(),
##   step1_time = col_integer(),
##   step2_time = col_integer(),
##   step3_time = col_integer()
## )
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># recode conditions and compute outcome measures</span>
<span class="hl std">responses</span> <span class="hl kwb">&lt;-</span> <span class="hl std">responses</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">condition</span> <span class="hl std">=</span> <span class="hl kwd">recode_factor</span><span class="hl std">(</span><span class="hl kwd">as.factor</span><span class="hl std">(condition),</span>
                                   <span class="hl str">&quot;C1&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;CLEAR-2&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C3&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;CLEAR-8&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C0&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;BB-2&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C2&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;BB-8&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C4&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;NO-MODEL&quot;</span><span class="hl std">))</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">pred_err</span> <span class="hl std">=</span> <span class="hl kwd">abs</span><span class="hl std">(final_pred</span> <span class="hl opt">-</span> <span class="hl std">actual_price),</span>
         <span class="hl kwc">model_err</span> <span class="hl std">=</span> <span class="hl kwd">abs</span><span class="hl std">(model_pred</span> <span class="hl opt">-</span> <span class="hl std">actual_price),</span>
         <span class="hl kwc">deviation</span> <span class="hl std">=</span> <span class="hl kwd">abs</span><span class="hl std">(final_pred</span> <span class="hl opt">-</span> <span class="hl std">model_pred),</span>
         <span class="hl kwc">sim_err</span> <span class="hl std">=</span> <span class="hl kwd">abs</span><span class="hl std">(user_model_pred</span> <span class="hl opt">-</span> <span class="hl std">model_pred))</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ungroup</span><span class="hl std">()</span>

<span class="hl com">#########################################</span>
<span class="hl com"># histograms</span>
<span class="hl com">#########################################</span>
<span class="hl com"># users' final prediction</span>
<span class="hl std">breaks</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">seq</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl std">,</span><span class="hl num">3</span><span class="hl std">,</span><span class="hl num">1</span><span class="hl std">)</span>
<span class="hl std">responses1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses, q_id</span> <span class="hl opt">&lt;</span> <span class="hl num">6</span><span class="hl std">)</span>
<span class="hl std">responses1</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl kwb">&lt;-</span> <span class="hl std">responses1</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl opt">+</span> <span class="hl num">1</span>
<span class="hl std">responses2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses, q_id</span> <span class="hl opt">&gt;=</span> <span class="hl num">6</span><span class="hl std">)</span>
<span class="hl std">responses2</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl kwb">&lt;-</span> <span class="hl std">responses2</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl opt">+</span> <span class="hl num">1</span>

<span class="hl com"># replace the -1 for actual price of apartment 12 (synthetic) with NA</span>
<span class="hl std">responses1</span><span class="hl opt">$</span><span class="hl std">actual_price</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">replace</span><span class="hl std">(responses1</span><span class="hl opt">$</span><span class="hl std">actual_price,</span> <span class="hl kwd">which</span><span class="hl std">(responses1</span><span class="hl opt">$</span><span class="hl std">actual_price</span> <span class="hl opt">== -</span><span class="hl num">1</span><span class="hl std">),</span> <span class="hl num">NA</span><span class="hl std">)</span>
<span class="hl std">responses2</span><span class="hl opt">$</span><span class="hl std">actual_price</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">replace</span><span class="hl std">(responses2</span><span class="hl opt">$</span><span class="hl std">actual_price,</span> <span class="hl kwd">which</span><span class="hl std">(responses2</span><span class="hl opt">$</span><span class="hl std">actual_price</span> <span class="hl opt">== -</span><span class="hl num">1</span><span class="hl std">),</span> <span class="hl num">NA</span><span class="hl std">)</span>


<span class="hl kwd">ggplot</span><span class="hl std">(responses1,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">x</span> <span class="hl std">= final_pred,</span> <span class="hl kwc">fill</span><span class="hl std">=condition))</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_histogram</span><span class="hl std">(</span><span class="hl kwc">binwidth</span> <span class="hl std">=</span> <span class="hl num">0.1</span><span class="hl std">,</span> <span class="hl kwc">alpha</span> <span class="hl std">=</span> <span class="hl num">0.5</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= model_pred,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Model's prediction&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= actual_price,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Actual price&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_fill_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span><span class="hl kwc">values</span><span class="hl std">=my_pallete)</span> <span class="hl opt">+</span> <span class="hl kwd">scale_colour_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span> <span class="hl kwc">values</span><span class="hl std">=my_pallete)</span><span class="hl opt">+</span>
  <span class="hl kwd">facet_grid</span><span class="hl std">(</span><span class="hl kwd">vars</span><span class="hl std">(condition),</span> <span class="hl kwd">vars</span><span class="hl std">(q_id),</span> <span class="hl kwc">scale</span><span class="hl std">=</span><span class="hl str">'free'</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">xlab</span><span class="hl std">(</span><span class="hl str">&quot;Participants' price prediction&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">ylab</span><span class="hl std">(</span><span class="hl str">&quot;Number of participants&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_x_continuous</span><span class="hl std">(</span><span class="hl kwc">breaks</span> <span class="hl std">= breaks,</span> <span class="hl kwc">labels</span> <span class="hl std">=</span> <span class="hl kwd">sprintf</span><span class="hl std">(</span><span class="hl str">'$%dM'</span><span class="hl std">, breaks))</span> <span class="hl opt">+</span>
  <span class="hl kwd">theme</span><span class="hl std">(</span><span class="hl kwc">panel.grid.major</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">panel.grid.minor</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span>
        <span class="hl kwc">legend.position</span><span class="hl std">=</span><span class="hl str">&quot;top&quot;</span><span class="hl std">,</span> <span class="hl kwc">legend.title</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">legend.key</span> <span class="hl std">=</span> <span class="hl kwd">element_rect</span><span class="hl std">(</span><span class="hl kwc">size</span> <span class="hl std">=</span> <span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">legend.key.size</span> <span class="hl std">=</span> <span class="hl kwd">unit</span><span class="hl std">(</span><span class="hl num">1.5</span><span class="hl std">,</span> <span class="hl str">'lines'</span><span class="hl std">),</span> <span class="hl kwc">legend.text</span><span class="hl std">=</span><span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">12</span><span class="hl std">),</span>
        <span class="hl kwc">axis.title.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">20</span><span class="hl std">),</span> <span class="hl kwc">axis.title.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">18</span><span class="hl std">),</span> <span class="hl kwc">axis.text.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">angle</span> <span class="hl std">=</span> <span class="hl num">45</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">axis.text.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">),</span>
        <span class="hl kwc">strip.text</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">))</span>
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-1-Rhtmlauto-report-3.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">filename</span> <span class="hl std">=</span> <span class="hl str">&quot;figures/exp1/dist_final_prediction_1.pdf&quot;</span><span class="hl std">,</span> <span class="hl kwc">height</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">,</span> <span class="hl kwc">width</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">)</span>

<span class="hl kwd">ggplot</span><span class="hl std">(responses2,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">x</span> <span class="hl std">= final_pred,</span> <span class="hl kwc">fill</span><span class="hl std">=condition))</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_histogram</span><span class="hl std">(</span><span class="hl kwc">binwidth</span> <span class="hl std">=</span> <span class="hl num">0.1</span><span class="hl std">,</span> <span class="hl kwc">alpha</span> <span class="hl std">=</span> <span class="hl num">0.5</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= model_pred,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Model's prediction&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= actual_price,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Actual price&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_fill_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span><span class="hl kwc">values</span><span class="hl std">=my_pallete)</span> <span class="hl opt">+</span> <span class="hl kwd">scale_colour_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span> <span class="hl kwc">values</span><span class="hl std">=my_pallete)</span><span class="hl opt">+</span>
  <span class="hl kwd">facet_grid</span><span class="hl std">(</span><span class="hl kwd">vars</span><span class="hl std">(condition),</span> <span class="hl kwd">vars</span><span class="hl std">(q_id),</span> <span class="hl kwc">scale</span><span class="hl std">=</span><span class="hl str">'free'</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">xlab</span><span class="hl std">(</span><span class="hl str">&quot;Participants' price prediction&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">ylab</span><span class="hl std">(</span><span class="hl str">&quot;Number of participants&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_x_continuous</span><span class="hl std">(</span><span class="hl kwc">breaks</span> <span class="hl std">= breaks,</span> <span class="hl kwc">labels</span> <span class="hl std">=</span> <span class="hl kwd">sprintf</span><span class="hl std">(</span><span class="hl str">'$%dM'</span><span class="hl std">, breaks))</span> <span class="hl opt">+</span>
  <span class="hl kwd">theme</span><span class="hl std">(</span><span class="hl kwc">panel.grid.major</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">panel.grid.minor</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span>
        <span class="hl kwc">legend.position</span><span class="hl std">=</span><span class="hl str">&quot;top&quot;</span><span class="hl std">,</span> <span class="hl kwc">legend.title</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">legend.key</span> <span class="hl std">=</span> <span class="hl kwd">element_rect</span><span class="hl std">(</span><span class="hl kwc">size</span> <span class="hl std">=</span> <span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">legend.key.size</span> <span class="hl std">=</span> <span class="hl kwd">unit</span><span class="hl std">(</span><span class="hl num">1.5</span><span class="hl std">,</span> <span class="hl str">'lines'</span><span class="hl std">),</span> <span class="hl kwc">legend.text</span><span class="hl std">=</span><span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">12</span><span class="hl std">),</span>
        <span class="hl kwc">axis.title.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">20</span><span class="hl std">),</span> <span class="hl kwc">axis.title.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">18</span><span class="hl std">),</span> <span class="hl kwc">axis.text.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">angle</span> <span class="hl std">=</span> <span class="hl num">45</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">axis.text.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">),</span>
        <span class="hl kwc">strip.text</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">))</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: Removed 1250 rows containing missing values (geom_vline).
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-1-Rhtmlauto-report-4.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">filename</span> <span class="hl std">=</span> <span class="hl str">&quot;figures/exp1/dist_final_prediction_2.pdf&quot;</span><span class="hl std">,</span> <span class="hl kwc">height</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">,</span> <span class="hl kwc">width</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: Removed 1250 rows containing missing values (geom_vline).
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#########################################</span>
<span class="hl com"># hypotheses analyses and plots</span>
<span class="hl com">#########################################</span>
<span class="hl com"># limit everything to first 10 questions for now</span>
<span class="hl std">responses_normal</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses, q_id</span> <span class="hl opt">&lt;</span> <span class="hl num">10</span><span class="hl std">)</span>

<span class="hl com"># limit to the four primary conditions</span>
<span class="hl com"># add transparency and number of features factors</span>
<span class="hl std">model_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses_normal, condition</span> <span class="hl opt">!=</span> <span class="hl str">&quot;NO-MODEL&quot;</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
 <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">transparency</span> <span class="hl std">=</span> <span class="hl kwd">ifelse</span><span class="hl std">(condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span> <span class="hl opt">|</span> <span class="hl std">condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-8&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;CLEAR&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;BB&quot;</span><span class="hl std">))</span> <span class="hl opt">%&gt;%</span>
 <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">num_features</span> <span class="hl std">=</span> <span class="hl kwd">ifelse</span><span class="hl std">(condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span> <span class="hl opt">|</span> <span class="hl std">condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;BB-2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;two&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;eight&quot;</span><span class="hl std">))</span>


<span class="hl com">########################################</span>
<span class="hl com"># DEVIATION FROM THE MODEL</span>
<span class="hl com">########################################</span>
<span class="hl com"># fit the two factor model</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(deviation</span> <span class="hl opt">~</span> <span class="hl std">transparency</span><span class="hl opt">*</span><span class="hl std">num_features</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">|</span><span class="hl std">worker_id),</span> <span class="hl kwc">data</span><span class="hl std">=model_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(hlm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Linear mixed model fit by REML. t-tests use Satterthwaite's method ['lmerModLmerTest']
## Formula: deviation ~ transparency * num_features + (1 | worker_id)
##    Data: model_data
## 
## REML criterion at convergence: -11263.4
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -4.8859 -0.5903 -0.1514  0.4332  8.3083 
## 
## Random effects:
##  Groups    Name        Variance Std.Dev.
##  worker_id (Intercept) 0.004361 0.06604 
##  Residual              0.016599 0.12884 
## Number of obs: 9980, groups:  worker_id, 998
## 
## Fixed effects:
##                                     Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)                         0.150547   0.004850 994.000012  31.044   &lt;2e-16 ***
## transparencyCLEAR                   0.013016   0.006920 994.000000   1.881   0.0603 .  
## num_featurestwo                    -0.006053   0.006920 994.000000  -0.875   0.3820    
## transparencyCLEAR:num_featurestwo  -0.002308   0.009826 993.999995  -0.235   0.8143    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##             (Intr) trCLEAR nm_ftr
## trnsprCLEAR -0.701               
## num_fetrstw -0.701  0.491        
## trnsCLEAR:_  0.494 -0.704  -0.704
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(hlm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table)</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:09 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrrr}
##   \hline
##  &amp; Sum Sq &amp; Mean Sq &amp; NumDF &amp; DenDF &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## transparency &amp; 0.10 &amp; 0.10 &amp; 1.00 &amp; 994.00 &amp; 5.83 &amp; 0.0159 \\ 
##   num\_features &amp; 0.04 &amp; 0.04 &amp; 1.00 &amp; 994.00 &amp; 2.15 &amp; 0.1427 \\ 
##   transparency:num\_features &amp; 0.00 &amp; 0.00 &amp; 1.00 &amp; 994.00 &amp; 0.06 &amp; 0.8143 \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for all combinations of transparency and number of features</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(hlm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>

<span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear2_vs_bb8</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  contrast      estimate      SE  df t.ratio p.value
##  clear2_vs_bb8  0.00465 0.00691 994 0.673   0.5009
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear8_vs_else</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  contrast       estimate     SE  df t.ratio p.value
##  clear8_vs_else   0.0404 0.0171 994 2.369   0.0180
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear2_vs_else</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  contrast       estimate     SE  df t.ratio p.value
##  clear2_vs_else    0.007 0.0171 994 0.411   0.6815
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">model_data</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">outcome</span> <span class="hl std">= deviation</span> <span class="hl opt">*</span> <span class="hl num">1e3</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">plot_distributions_with_means</span><span class="hl std">(.,</span> <span class="hl str">'Average deviation from the model'</span><span class="hl std">,</span> <span class="hl str">'Proportion of participants'</span><span class="hl std">, my_pallete)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: Ignoring unknown aesthetics: x
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: The plyr::rename operation has created duplicates for the following name(s):
## (`size`)
</pre></div>
<div class="message"><pre class="knitr r">## Picking joint bandwidth of 16.8
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-1-Rhtmlauto-report-5.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">file</span> <span class="hl std">=</span> <span class="hl str">'figures/exp1/dev_from_model.pdf'</span><span class="hl std">,</span> <span class="hl kwc">height</span> <span class="hl std">=</span> <span class="hl num">4</span><span class="hl std">,</span> <span class="hl kwc">width</span> <span class="hl std">=</span> <span class="hl num">4</span><span class="hl std">)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Picking joint bandwidth of 16.8
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">########################################</span>
<span class="hl com"># Self-reported confidence</span>
<span class="hl com">########################################</span>
<span class="hl com"># fit the two factor model</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(model_conf</span> <span class="hl opt">~</span> <span class="hl std">transparency</span><span class="hl opt">*</span><span class="hl std">num_features</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">|</span><span class="hl std">worker_id),</span> <span class="hl kwc">data</span><span class="hl std">=model_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(hlm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Linear mixed model fit by REML. t-tests use Satterthwaite's method ['lmerModLmerTest']
## Formula: model_conf ~ transparency * num_features + (1 | worker_id)
##    Data: model_data
## 
## REML criterion at convergence: 28249.1
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -3.6798 -0.5754  0.0235  0.6455  3.4948 
## 
## Random effects:
##  Groups    Name        Variance Std.Dev.
##  worker_id (Intercept) 0.3406   0.5836  
##  Residual              0.8433   0.9183  
## Number of obs: 9980, groups:  worker_id, 998
## 
## Fixed effects:
##                                    Estimate Std. Error        df t value Pr(&gt;|t|)    
## (Intercept)                         3.23906    0.04074 994.00001  79.499   &lt;2e-16 ***
## transparencyCLEAR                   0.12976    0.05814 994.00001   2.232   0.0258 *  
## num_featurestwo                    -0.01437    0.05814 994.00001  -0.247   0.8049    
## transparencyCLEAR:num_featurestwo   0.13264    0.08255 994.00000   1.607   0.1084    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##             (Intr) trCLEAR nm_ftr
## trnsprCLEAR -0.701               
## num_fetrstw -0.701  0.491        
## trnsCLEAR:_  0.494 -0.704  -0.704
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(hlm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table)</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:10 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrrr}
##   \hline
##  &amp; Sum Sq &amp; Mean Sq &amp; NumDF &amp; DenDF &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## transparency &amp; 19.03 &amp; 19.03 &amp; 1.00 &amp; 994.00 &amp; 22.57 &amp; 0.0000 \\ 
##   num\_features &amp; 1.34 &amp; 1.34 &amp; 1.00 &amp; 994.00 &amp; 1.58 &amp; 0.2084 \\ 
##   transparency:num\_features &amp; 2.18 &amp; 2.18 &amp; 1.00 &amp; 994.00 &amp; 2.58 &amp; 0.1084 \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for all combinations of transparency and number of features</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(hlm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>

<span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear2_vs_bb8</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  contrast      estimate     SE  df t.ratio p.value
##  clear2_vs_bb8    0.248 0.0581 994 4.270   &lt;.0001
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># effect sizes</span>
<span class="hl std">clear2_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(model_data, condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span><span class="hl std">)</span>
<span class="hl std">bb8_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(model_data, condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;BB-8&quot;</span><span class="hl std">)</span>
<span class="hl std">effect_size</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">cohensD</span><span class="hl std">(clear2_data</span><span class="hl opt">$</span><span class="hl std">model_conf, bb8_data</span><span class="hl opt">$</span><span class="hl std">model_conf)</span>

<span class="hl com"># compute and show the means and standard errors by condition from the model</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(model_conf</span> <span class="hl opt">~</span> <span class="hl std">condition</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span> <span class="hl opt">|</span> <span class="hl std">worker_id),</span> <span class="hl kwc">data</span> <span class="hl std">= model_data)</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lsmeansLT</span><span class="hl std">(hlm_model,</span> <span class="hl str">&quot;condition&quot;</span><span class="hl std">)</span>
<span class="hl kwd">print</span><span class="hl std">(means)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Least Squares Means table:
## 
##                  Estimate Std. Error  df t value    lower    upper  Pr(&gt;|t|)    
## conditionCLEAR-2 3.487097   0.041395 994  84.239 3.405864 3.568329 &lt; 2.2e-16 ***
## conditionCLEAR-8 3.368826   0.041479 994  81.218 3.287429 3.450223 &lt; 2.2e-16 ***
## conditionBB-2    3.224696   0.041479 994  77.743 3.143300 3.306093 &lt; 2.2e-16 ***
## conditionBB-8    3.239062   0.040743 994  79.499 3.159109 3.319016 &lt; 2.2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
##   Confidence level: 95%
##   Degrees of freedom method: Satterthwaite
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">########################################</span>
<span class="hl com"># Simulation error</span>
<span class="hl com">########################################</span>
<span class="hl com"># fit the two factor model</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(sim_err</span> <span class="hl opt">~</span> <span class="hl std">transparency</span><span class="hl opt">*</span><span class="hl std">num_features</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">|</span><span class="hl std">worker_id),</span> <span class="hl kwc">data</span><span class="hl std">=model_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(hlm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Linear mixed model fit by REML. t-tests use Satterthwaite's method ['lmerModLmerTest']
## Formula: sim_err ~ transparency * num_features + (1 | worker_id)
##    Data: model_data
## 
## REML criterion at convergence: -2319.7
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -2.7392 -0.6144 -0.2247  0.3985  6.5875 
## 
## Random effects:
##  Groups    Name        Variance Std.Dev.
##  worker_id (Intercept) 0.009739 0.09869 
##  Residual              0.040975 0.20242 
## Number of obs: 9980, groups:  worker_id, 998
## 
## Fixed effects:
##                                     Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)                         0.239492   0.007352 993.999988  32.576  &lt; 2e-16 ***
## transparencyCLEAR                   0.021560   0.010491 993.999997   2.055  0.04014 *  
## num_featurestwo                    -0.033460   0.010491 993.999997  -3.189  0.00147 ** 
## transparencyCLEAR:num_featurestwo  -0.095940   0.014896 994.000002  -6.441 1.85e-10 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##             (Intr) trCLEAR nm_ftr
## trnsprCLEAR -0.701               
## num_fetrstw -0.701  0.491        
## trnsCLEAR:_  0.494 -0.704  -0.704
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(hlm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table)</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:11 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrrr}
##   \hline
##  &amp; Sum Sq &amp; Mean Sq &amp; NumDF &amp; DenDF &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## transparency &amp; 0.52 &amp; 0.52 &amp; 1.00 &amp; 994.00 &amp; 12.57 &amp; 0.0004 \\ 
##   num\_features &amp; 4.90 &amp; 4.90 &amp; 1.00 &amp; 994.00 &amp; 119.54 &amp; 0.0000 \\ 
##   transparency:num\_features &amp; 1.70 &amp; 1.70 &amp; 1.00 &amp; 994.00 &amp; 41.48 &amp; 0.0000 \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for all combinations of transparency and number of features</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(hlm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>

<span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear2_vs_else</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  contrast       estimate     SE  df t.ratio p.value
##  clear2_vs_else   -0.312 0.0259 994 -12.055 &lt;.0001
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear8_vs_else</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  contrast       estimate     SE  df t.ratio p.value
##  clear8_vs_else    0.206 0.0259 994 7.957   &lt;.0001
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">model_data</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">outcome</span> <span class="hl std">= sim_err</span> <span class="hl opt">*</span> <span class="hl num">1e3</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">plot_distributions_with_means</span><span class="hl std">(.,</span> <span class="hl str">'Average simulation error'</span><span class="hl std">,</span> <span class="hl str">'Proportion of participants'</span><span class="hl std">, my_pallete,</span> <span class="hl kwc">xlim_percentile</span> <span class="hl std">=</span> <span class="hl num">.95</span><span class="hl std">)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: Ignoring unknown aesthetics: x

## Warning: The plyr::rename operation has created duplicates for the following name(s):
## (`size`)
</pre></div>
<div class="message"><pre class="knitr r">## Picking joint bandwidth of 30.6
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-1-Rhtmlauto-report-6.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">file</span> <span class="hl std">=</span> <span class="hl str">'figures/exp1/sim_error.pdf'</span><span class="hl std">,</span> <span class="hl kwc">height</span> <span class="hl std">=</span> <span class="hl num">4</span><span class="hl std">,</span> <span class="hl kwc">width</span> <span class="hl std">=</span> <span class="hl num">4</span><span class="hl std">)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Picking joint bandwidth of 30.6
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">########################################</span>
<span class="hl com"># PREDICTION ERROR</span>
<span class="hl com">########################################</span>
<span class="hl com"># primary conditions</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(pred_err</span> <span class="hl opt">~</span> <span class="hl std">condition</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">|</span><span class="hl std">worker_id),</span> <span class="hl kwc">data</span><span class="hl std">=model_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(hlm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Linear mixed model fit by REML. t-tests use Satterthwaite's method ['lmerModLmerTest']
## Formula: pred_err ~ condition + (1 | worker_id)
##    Data: model_data
## 
## REML criterion at convergence: -3579.3
## 
## Scaled residuals: 
##    Min     1Q Median     3Q    Max 
## -1.826 -0.666 -0.168  0.399  9.188 
## 
## Random effects:
##  Groups    Name        Variance Std.Dev.
##  worker_id (Intercept) 0.001736 0.04167 
##  Residual              0.039311 0.19827 
## Number of obs: 9980, groups:  worker_id, 998
## 
## Fixed effects:
##                    Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)       2.329e-01  4.781e-03  9.940e+02  48.728   &lt;2e-16 ***
## conditionCLEAR-8  1.507e-02  6.768e-03  9.940e+02   2.227   0.0262 *  
## conditionBB-2    -6.763e-04  6.768e-03  9.940e+02  -0.100   0.9204    
## conditionBB-8     1.510e-03  6.708e-03  9.940e+02   0.225   0.8220    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##             (Intr) cCLEAR cnBB-2
## cndtCLEAR-8 -0.706              
## conditnBB-2 -0.706  0.499       
## conditnBB-8 -0.713  0.503  0.503
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(hlm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table)</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:12 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrrr}
##   \hline
##  &amp; Sum Sq &amp; Mean Sq &amp; NumDF &amp; DenDF &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## condition &amp; 0.29 &amp; 0.10 &amp; 3.00 &amp; 994.00 &amp; 2.43 &amp; 0.0642 \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for conditions</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(hlm_model,</span> <span class="hl str">&quot;condition&quot;</span><span class="hl std">)</span>


<span class="hl com"># two-way anova</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(pred_err</span> <span class="hl opt">~</span> <span class="hl std">transparency</span> <span class="hl opt">*</span> <span class="hl std">num_features</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">|</span><span class="hl std">worker_id),</span> <span class="hl kwc">data</span><span class="hl std">=model_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(hlm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Linear mixed model fit by REML. t-tests use Satterthwaite's method ['lmerModLmerTest']
## Formula: pred_err ~ transparency * num_features + (1 | worker_id)
##    Data: model_data
## 
## REML criterion at convergence: -3579.3
## 
## Scaled residuals: 
##    Min     1Q Median     3Q    Max 
## -1.826 -0.666 -0.168  0.399  9.188 
## 
## Random effects:
##  Groups    Name        Variance Std.Dev.
##  worker_id (Intercept) 0.001736 0.04167 
##  Residual              0.039311 0.19827 
## Number of obs: 9980, groups:  worker_id, 998
## 
## Fixed effects:
##                                     Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)                         0.234453   0.004705 994.000022  49.829   &lt;2e-16 ***
## transparencyCLEAR                   0.013563   0.006714 994.000022   2.020   0.0437 *  
## num_featurestwo                    -0.002186   0.006714 994.000022  -0.326   0.7448    
## transparencyCLEAR:num_featurestwo  -0.012887   0.009533 994.000022  -1.352   0.1768    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##             (Intr) trCLEAR nm_ftr
## trnsprCLEAR -0.701               
## num_fetrstw -0.701  0.491        
## trnsCLEAR:_  0.494 -0.704  -0.704
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(hlm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table)</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:13 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrrr}
##   \hline
##  &amp; Sum Sq &amp; Mean Sq &amp; NumDF &amp; DenDF &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## transparency &amp; 0.09 &amp; 0.09 &amp; 1.00 &amp; 994.00 &amp; 2.23 &amp; 0.1356 \\ 
##   num\_features &amp; 0.13 &amp; 0.13 &amp; 1.00 &amp; 994.00 &amp; 3.28 &amp; 0.0705 \\ 
##   transparency:num\_features &amp; 0.07 &amp; 0.07 &amp; 1.00 &amp; 994.00 &amp; 1.83 &amp; 0.1768 \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># setup contrasts</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(hlm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span><span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear8_vs_else</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  contrast       estimate     SE  df t.ratio p.value
##  clear8_vs_else   0.0444 0.0166 994 2.679   0.0075
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># all conditions including baseline</span>
<span class="hl std">model_baseline_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses_normal, q_id</span> <span class="hl opt">&lt;</span> <span class="hl num">10</span><span class="hl std">)</span>

<span class="hl com"># fit the one factor model</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(pred_err</span> <span class="hl opt">~</span> <span class="hl std">condition</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">|</span><span class="hl std">worker_id),</span> <span class="hl kwc">data</span><span class="hl std">=model_baseline_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(hlm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Linear mixed model fit by REML. t-tests use Satterthwaite's method ['lmerModLmerTest']
## Formula: pred_err ~ condition + (1 | worker_id)
##    Data: model_baseline_data
## 
## REML criterion at convergence: -2062
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -2.1061 -0.6328 -0.1638  0.3845  8.1336 
## 
## Random effects:
##  Groups    Name        Variance Std.Dev.
##  worker_id (Intercept) 0.002828 0.05318 
##  Residual              0.047227 0.21732 
## Number of obs: 12500, groups:  worker_id, 1250
## 
## Fixed effects:
##                     Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)        2.329e-01  5.518e-03  1.245e+03  42.216   &lt;2e-16 ***
## conditionCLEAR-8   1.507e-02  7.811e-03  1.245e+03   1.930   0.0539 .  
## conditionBB-2     -6.763e-04  7.811e-03  1.245e+03  -0.087   0.9310    
## conditionBB-8      1.510e-03  7.742e-03  1.245e+03   0.195   0.8454    
## conditionNO-MODEL  9.761e-02  7.772e-03  1.245e+03  12.559   &lt;2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##             (Intr) cCLEAR cnBB-2 cnBB-8
## cndtCLEAR-8 -0.706                     
## conditnBB-2 -0.706  0.499              
## conditnBB-8 -0.713  0.503  0.503       
## cndNO-MODEL -0.710  0.501  0.501  0.506
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(hlm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table)</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:13 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrrr}
##   \hline
##  &amp; Sum Sq &amp; Mean Sq &amp; NumDF &amp; DenDF &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## condition &amp; 11.30 &amp; 2.82 &amp; 4.00 &amp; 1245.00 &amp; 59.80 &amp; 0.0000 \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for conditions</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(hlm_model,</span> <span class="hl str">&quot;condition&quot;</span><span class="hl std">)</span>

<span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">model_vs_baseline</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">4</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  contrast          estimate     SE   df t.ratio p.value
##  model_vs_baseline    0.375 0.0245 1245 15.284  &lt;.0001
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">xbreaks</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">200</span><span class="hl std">,</span> <span class="hl num">400</span><span class="hl std">,</span> <span class="hl num">600</span><span class="hl std">)</span>
<span class="hl std">model_baseline_data</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">outcome</span> <span class="hl std">= pred_err</span> <span class="hl opt">*</span> <span class="hl num">1e3</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">plot_distributions_with_means</span><span class="hl std">(.,</span> <span class="hl str">'Average prediction error'</span><span class="hl std">,</span> <span class="hl str">'Proportion of participants'</span><span class="hl std">, my_pallete,</span>
                                <span class="hl kwc">xbreaks</span> <span class="hl std">= xbreaks,</span> <span class="hl kwc">vertical_line</span> <span class="hl std">=</span> <span class="hl kwd">mean</span><span class="hl std">(model_baseline_data</span><span class="hl opt">$</span><span class="hl std">model_err)</span> <span class="hl opt">*</span> <span class="hl num">1e3</span><span class="hl std">,</span> <span class="hl kwc">xlim_percentile</span> <span class="hl std">=</span> <span class="hl num">0.95</span><span class="hl std">)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: Ignoring unknown aesthetics: x

## Warning: The plyr::rename operation has created duplicates for the following name(s):
## (`size`)
</pre></div>
<div class="message"><pre class="knitr r">## Picking joint bandwidth of 19.7
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-1-Rhtmlauto-report-7.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">file</span> <span class="hl std">=</span> <span class="hl str">'figures/exp1/prediction_error.pdf'</span><span class="hl std">,</span> <span class="hl kwc">height</span> <span class="hl std">=</span> <span class="hl num">4.5</span><span class="hl std">,</span> <span class="hl kwc">width</span> <span class="hl std">=</span><span class="hl num">4</span><span class="hl std">)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Picking joint bandwidth of 19.7
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">####################################</span>
<span class="hl com"># last two questions (unusual apartments)</span>
<span class="hl com">####################################</span>
<span class="hl std">responses_unusual</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses, q_id</span> <span class="hl opt">&gt;=</span> <span class="hl num">10</span><span class="hl std">)</span>

<span class="hl com">########################################</span>
<span class="hl com"># deviation for q11</span>
<span class="hl com">########################################</span>
<span class="hl std">q11_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses_unusual, q_id</span> <span class="hl opt">==</span> <span class="hl num">10</span><span class="hl std">)</span>


<span class="hl com"># prediction error in no-model vs rest</span>
<span class="hl std">lm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lm</span><span class="hl std">(pred_err</span> <span class="hl opt">~</span> <span class="hl std">condition,</span> <span class="hl kwc">data</span><span class="hl std">=q11_data)</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(lm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;condition&quot;</span><span class="hl std">))</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">baseline_vs_rest</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">4</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  contrast         estimate     SE   df t.ratio p.value
##  baseline_vs_rest   -0.488 0.0611 1245 -7.988  &lt;.0001
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#fit a model for deviation</span>
<span class="hl std">q11_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(q11_data, condition</span> <span class="hl opt">!=</span> <span class="hl str">&quot;NO-MODEL&quot;</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">transparency</span> <span class="hl std">=</span> <span class="hl kwd">ifelse</span><span class="hl std">(condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span> <span class="hl opt">|</span> <span class="hl std">condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-8&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;CLEAR&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;BB&quot;</span><span class="hl std">))</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">num_features</span> <span class="hl std">=</span> <span class="hl kwd">ifelse</span><span class="hl std">(condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span> <span class="hl opt">|</span> <span class="hl std">condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;BB-2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;two&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;eight&quot;</span><span class="hl std">))</span>

<span class="hl com"># two-way anova</span>
<span class="hl std">q11_anova</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">aov</span><span class="hl std">(pred_err</span> <span class="hl opt">~</span> <span class="hl std">transparency</span><span class="hl opt">*</span><span class="hl std">num_features,</span> <span class="hl kwc">data</span><span class="hl std">=q11_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(q11_anova)</span>
</pre></div>
<div class="output"><pre class="knitr r">##                            Df Sum Sq Mean Sq F value   Pr(&gt;F)    
## transparency                1   1.17  1.1745  31.983 2.03e-08 ***
## num_features                1   1.66  1.6596  45.194 3.00e-11 ***
## transparency:num_features   1   0.00  0.0046   0.126    0.723    
## Residuals                 994  36.50  0.0367                     
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># fit the one factor model</span>
<span class="hl std">lm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lm</span><span class="hl std">(deviation</span> <span class="hl opt">~</span> <span class="hl std">condition,</span> <span class="hl kwc">data</span><span class="hl std">=q11_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(lm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:
## lm(formula = deviation ~ condition, data = q11_data)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.16640 -0.06640 -0.04575  0.04492  1.35425 
## 
## Coefficients:
##                    Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)       0.1560484  0.0083064  18.787   &lt;2e-16 ***
## conditionCLEAR-8 -0.0102994  0.0117589  -0.876    0.381    
## conditionBB-2     0.0103484  0.0117589   0.880    0.379    
## conditionBB-8    -0.0009703  0.0116549  -0.083    0.934    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.1308 on 994 degrees of freedom
## Multiple R-squared:  0.003097,	Adjusted R-squared:  8.814e-05 
## F-statistic: 1.029 on 3 and 994 DF,  p-value: 0.3788
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at one-way ANOVA</span>
<span class="hl kwd">anova</span><span class="hl std">(lm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Analysis of Variance Table
## 
## Response: deviation
##            Df  Sum Sq  Mean Sq F value Pr(&gt;F)
## condition   3  0.0528 0.017612  1.0293 0.3788
## Residuals 994 17.0085 0.017111
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># run 2-by-2 anova for deviation on q11</span>
<span class="hl com"># fit the two factor model</span>
<span class="hl std">lm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lm</span><span class="hl std">(deviation</span> <span class="hl opt">~</span> <span class="hl std">transparency</span><span class="hl opt">*</span><span class="hl std">num_features,</span> <span class="hl kwc">data</span><span class="hl std">=q11_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(lm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:
## lm(formula = deviation ~ transparency * num_features, data = q11_data)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.16640 -0.06640 -0.04575  0.04492  1.35425 
## 
## Coefficients:
##                                    Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)                        0.155078   0.008176  18.968   &lt;2e-16 ***
## transparencyCLEAR                 -0.009329   0.011667  -0.800    0.424    
## num_featurestwo                    0.011319   0.011667   0.970    0.332    
## transparencyCLEAR:num_featurestwo -0.001019   0.016565  -0.062    0.951    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.1308 on 994 degrees of freedom
## Multiple R-squared:  0.003097,	Adjusted R-squared:  8.814e-05 
## F-statistic: 1.029 on 3 and 994 DF,  p-value: 0.3788
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(lm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table)</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:14 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrr}
##   \hline
##  &amp; Df &amp; Sum Sq &amp; Mean Sq &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## transparency &amp; 1 &amp; 0.02 &amp; 0.02 &amp; 1.38 &amp; 0.2405 \\ 
##   num\_features &amp; 1 &amp; 0.03 &amp; 0.03 &amp; 1.70 &amp; 0.1920 \\ 
##   transparency:num\_features &amp; 1 &amp; 0.00 &amp; 0.00 &amp; 0.00 &amp; 0.9509 \\ 
##   Residuals &amp; 994 &amp; 17.01 &amp; 0.02 &amp;  &amp;  \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for all combinations of transparency and number of features</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(lm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>

<span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear_vs_bb</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  contrast    estimate     SE  df t.ratio p.value
##  clear_vs_bb  -0.0197 0.0166 994 -1.188  0.2351
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">########################################</span>
<span class="hl com"># deviation for q12</span>
<span class="hl com">########################################</span>
<span class="hl com"># comparison of prediction error for baseline with the rest</span>
<span class="hl std">q12_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses_unusual, q_id</span> <span class="hl opt">==</span> <span class="hl num">11</span><span class="hl std">)</span>

<span class="hl com">#fit a model for deviation</span>
<span class="hl std">q12_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(q12_data, condition</span> <span class="hl opt">!=</span> <span class="hl str">&quot;NO-MODEL&quot;</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">transparency</span> <span class="hl std">=</span> <span class="hl kwd">ifelse</span><span class="hl std">(condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span> <span class="hl opt">|</span> <span class="hl std">condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-8&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;CLEAR&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;BB&quot;</span><span class="hl std">))</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">num_features</span> <span class="hl std">=</span> <span class="hl kwd">ifelse</span><span class="hl std">(condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span> <span class="hl opt">|</span> <span class="hl std">condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;BB-2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;two&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;eight&quot;</span><span class="hl std">))</span>

<span class="hl com"># fit the one factor model</span>
<span class="hl std">lm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lm</span><span class="hl std">(deviation</span> <span class="hl opt">~</span> <span class="hl std">condition,</span> <span class="hl kwc">data</span><span class="hl std">=q12_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(lm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:
## lm(formula = deviation ~ condition, data = q12_data)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.27930 -0.14372 -0.02984  0.07976  1.02070 
## 
## Coefficients:
##                   Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)       0.229839   0.012427  18.496  &lt; 2e-16 ***
## conditionCLEAR-8 -0.009596   0.017592  -0.545  0.58555    
## conditionBB-2     0.013886   0.017592   0.789  0.43009    
## conditionBB-8     0.049458   0.017436   2.837  0.00465 ** 
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.1957 on 994 degrees of freedom
## Multiple R-squared:  0.01317,	Adjusted R-squared:  0.01019 
## F-statistic: 4.421 on 3 and 994 DF,  p-value: 0.004259
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at one-way ANOVA</span>
<span class="hl kwd">anova</span><span class="hl std">(lm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Analysis of Variance Table
## 
## Response: deviation
##            Df Sum Sq  Mean Sq F value   Pr(&gt;F)   
## condition   3  0.508 0.169311  4.4211 0.004259 **
## Residuals 994 38.066 0.038296                    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># run 2-by-2 anova for deviation on q11</span>
<span class="hl com"># fit the two factor model</span>
<span class="hl std">lm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lm</span><span class="hl std">(deviation</span> <span class="hl opt">~</span> <span class="hl std">transparency</span><span class="hl opt">*</span><span class="hl std">num_features,</span> <span class="hl kwc">data</span><span class="hl std">=q12_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(lm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:
## lm(formula = deviation ~ transparency * num_features, data = q12_data)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.27930 -0.14372 -0.02984  0.07976  1.02070 
## 
## Coefficients:
##                                   Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)                        0.27930    0.01223  22.835  &lt; 2e-16 ***
## transparencyCLEAR                 -0.05905    0.01745  -3.383 0.000744 ***
## num_featurestwo                   -0.03557    0.01745  -2.038 0.041807 *  
## transparencyCLEAR:num_featurestwo  0.04517    0.02478   1.823 0.068652 .  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.1957 on 994 degrees of freedom
## Multiple R-squared:  0.01317,	Adjusted R-squared:  0.01019 
## F-statistic: 4.421 on 3 and 994 DF,  p-value: 0.004259
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(lm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table)</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:14 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrr}
##   \hline
##  &amp; Df &amp; Sum Sq &amp; Mean Sq &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## transparency &amp; 1 &amp; 0.34 &amp; 0.34 &amp; 8.81 &amp; 0.0031 \\ 
##   num\_features &amp; 1 &amp; 0.04 &amp; 0.04 &amp; 1.13 &amp; 0.2882 \\ 
##   transparency:num\_features &amp; 1 &amp; 0.13 &amp; 0.13 &amp; 3.32 &amp; 0.0687 \\ 
##   Residuals &amp; 994 &amp; 38.07 &amp; 0.04 &amp;  &amp;  \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for all combinations of transparency and number of features</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(lm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>

<span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear_vs_bb</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  contrast    estimate     SE  df t.ratio p.value
##  clear_vs_bb  -0.0729 0.0248 994 -2.943  0.0033
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">plot_data</span> <span class="hl kwb">&lt;-</span> <span class="hl std">q12_data</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">group_by</span><span class="hl std">(condition)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">summarize</span><span class="hl std">(</span><span class="hl kwc">mean</span> <span class="hl std">=</span> <span class="hl kwd">mean</span><span class="hl std">(final_pred),</span>
            <span class="hl kwc">se</span> <span class="hl std">=</span> <span class="hl kwd">sd</span><span class="hl std">(final_pred)</span> <span class="hl opt">/</span> <span class="hl kwd">sqrt</span><span class="hl std">(</span><span class="hl kwd">n</span><span class="hl std">()),</span>
            <span class="hl kwc">model_pred</span> <span class="hl std">=</span> <span class="hl kwd">mean</span><span class="hl std">(model_pred</span> <span class="hl opt">*</span> <span class="hl num">1e6</span><span class="hl std">),</span>
            <span class="hl kwc">facet</span> <span class="hl std">=</span> <span class="hl str">'Experiment 1, apartment 12: 1 bed, 3 bath'</span><span class="hl std">)</span>
<span class="hl kwd">print</span><span class="hl std">(plot_data</span><span class="hl opt">$</span><span class="hl std">mean)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 1.476613 1.382591 1.355061 1.251953
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">breaks</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">seq</span><span class="hl std">(</span><span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">1.5</span><span class="hl std">,</span> <span class="hl num">0.5</span><span class="hl std">)</span>
<span class="hl kwd">ggplot</span><span class="hl std">(plot_data,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">x</span> <span class="hl std">= condition,</span> <span class="hl kwc">y</span> <span class="hl std">= mean,</span> <span class="hl kwc">color</span> <span class="hl std">= condition,</span> <span class="hl kwc">fill</span> <span class="hl std">= condition,</span> <span class="hl kwc">label</span><span class="hl std">=</span><span class="hl kwd">sprintf</span><span class="hl std">(</span><span class="hl str">&quot;$%gM&quot;</span><span class="hl std">,</span> <span class="hl kwd">round</span><span class="hl std">(mean,</span> <span class="hl kwc">digits</span><span class="hl std">=</span><span class="hl num">2</span><span class="hl std">))))</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_bar</span><span class="hl std">(</span><span class="hl kwc">stat</span> <span class="hl std">=</span> <span class="hl str">&quot;identity&quot;</span><span class="hl std">,</span> <span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.5</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_errorbar</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">ymin</span> <span class="hl std">= mean</span> <span class="hl opt">-</span> <span class="hl std">se,</span> <span class="hl kwc">ymax</span> <span class="hl std">= mean</span> <span class="hl opt">+</span> <span class="hl std">se),</span> <span class="hl kwc">width</span> <span class="hl std">=</span> <span class="hl num">0.1</span><span class="hl std">,</span> <span class="hl kwc">color</span> <span class="hl std">=</span> <span class="hl str">&quot;black&quot;</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_hline</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">yintercept</span> <span class="hl std">= model_pred</span><span class="hl opt">/</span><span class="hl num">1e6</span><span class="hl std">,</span> <span class="hl kwc">linetype</span> <span class="hl std">=</span> <span class="hl str">&quot;Model's prediction&quot;</span><span class="hl std">),</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">scale_fill_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span><span class="hl kwc">values</span><span class="hl std">=my_pallete)</span> <span class="hl opt">+</span> <span class="hl kwd">scale_colour_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span> <span class="hl kwc">values</span><span class="hl std">=my_pallete)</span><span class="hl opt">+</span>
  <span class="hl kwd">xlab</span><span class="hl std">(</span><span class="hl str">''</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">ylab</span><span class="hl std">(</span><span class="hl str">'Mean participant prediction'</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">geom_text</span><span class="hl std">(</span><span class="hl kwc">colour</span><span class="hl std">=</span><span class="hl str">'black'</span><span class="hl std">,</span> <span class="hl kwc">vjust</span><span class="hl std">=</span><span class="hl opt">-</span><span class="hl num">1.5</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_y_continuous</span><span class="hl std">(</span><span class="hl kwc">breaks</span> <span class="hl std">= breaks,</span> <span class="hl kwc">limits</span><span class="hl std">=</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">1.5</span><span class="hl std">),</span> <span class="hl kwc">labels</span> <span class="hl std">=</span> <span class="hl kwd">sprintf</span><span class="hl std">(</span><span class="hl str">'$%gM'</span><span class="hl std">, breaks))</span> <span class="hl opt">+</span>
  <span class="hl kwd">scale_linetype_manual</span><span class="hl std">(</span><span class="hl kwc">values</span> <span class="hl std">=</span> <span class="hl str">&quot;dashed&quot;</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">theme</span><span class="hl std">(</span><span class="hl kwc">legend.position</span><span class="hl std">=</span><span class="hl str">&quot;bottom&quot;</span><span class="hl std">,</span><span class="hl kwc">axis.title.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">),</span> <span class="hl kwc">axis.title.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">18</span><span class="hl std">),</span>
        <span class="hl kwc">axis.text.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">9</span><span class="hl std">),</span> <span class="hl kwc">axis.text.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">),</span>
        <span class="hl kwc">legend.text</span><span class="hl std">=</span><span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">9</span><span class="hl std">),</span> <span class="hl kwc">legend.title</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">legend.spacing.x</span><span class="hl std">=</span><span class="hl kwd">unit</span><span class="hl std">(</span><span class="hl num">0.5</span><span class="hl std">,</span><span class="hl str">&quot;line&quot;</span><span class="hl std">),</span> <span class="hl kwc">legend.margin</span><span class="hl std">=</span><span class="hl kwd">margin</span><span class="hl std">(</span><span class="hl kwc">t</span><span class="hl std">=</span><span class="hl opt">-</span><span class="hl num">.5</span><span class="hl std">,</span> <span class="hl kwc">r</span><span class="hl std">=</span><span class="hl num">0</span><span class="hl std">,</span> <span class="hl kwc">b</span><span class="hl std">=</span><span class="hl num">0</span><span class="hl std">,</span> <span class="hl kwc">l</span><span class="hl std">=</span><span class="hl num">0</span><span class="hl std">,</span> <span class="hl kwc">unit</span><span class="hl std">=</span><span class="hl str">&quot;cm&quot;</span><span class="hl std">),</span>
        <span class="hl kwc">strip.text</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">9</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">facet_wrap</span><span class="hl std">(</span><span class="hl opt">~</span> <span class="hl std">facet)</span>
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-1-Rhtmlauto-report-8.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">filename</span> <span class="hl std">=</span> <span class="hl str">&quot;figures/exp1/q12_pred.pdf&quot;</span><span class="hl std">,</span> <span class="hl kwc">height</span><span class="hl std">=</span><span class="hl num">6</span><span class="hl std">,</span> <span class="hl kwc">width</span><span class="hl std">=</span><span class="hl num">6</span><span class="hl std">)</span>
</pre></div>
</div></div>

  <p>The R session information (including the OS info, R version and all
    packages used):</p>

<div class="chunk" id="session-info"><div class="rcode"><div class="source"><pre class="knitr r">    <span class="hl kwd">sessionInfo</span><span class="hl std">()</span>
</pre></div>
<div class="output"><pre class="knitr r">## R version 3.5.1 (2018-07-02)
## Platform: x86_64-apple-darwin15.6.0 (64-bit)
## Running under: macOS  10.16
## 
## Matrix products: default
## BLAS: /Library/Frameworks/R.framework/Versions/3.5/Resources/lib/libRblas.0.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/3.5/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] forcats_0.3.0   stringr_1.3.1   purrr_0.2.5     tibble_2.1.3    tidyverse_1.2.1
##  [6] ggridges_0.5.1  xtable_1.8-2    emmeans_1.4     lsr_0.5         tidyr_0.8.1    
## [11] dplyr_0.8.3     magrittr_1.5    readr_1.1.1     ggrepel_0.8.0   ggplot2_3.0.0  
## [16] scales_0.5.0    lsmeans_2.27-62 lmerTest_3.0-1  lme4_1.1-17     Matrix_1.2-14  
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.3        lubridate_1.7.4   mvtnorm_1.0-8     lattice_0.20-35  
##  [5] zoo_1.8-3         digest_0.6.15     assertthat_0.2.0  R6_2.2.2         
##  [9] cellranger_1.1.0  plyr_1.8.4        backports_1.1.2   evaluate_0.11    
## [13] coda_0.19-1       httr_1.3.1        highr_0.7         pillar_1.4.3     
## [17] rlang_0.4.2       lazyeval_0.2.1    multcomp_1.4-8    readxl_1.1.0     
## [21] minqa_1.2.4       rstudioapi_0.7    nloptr_1.0.4      labeling_0.3     
## [25] splines_3.5.1     munsell_0.5.0     broom_0.5.0       compiler_3.5.1   
## [29] numDeriv_2016.8-1 modelr_0.1.2      pkgconfig_2.0.1   tidyselect_0.2.5 
## [33] codetools_0.2-15  crayon_1.3.4      withr_2.1.2       MASS_7.3-50      
## [37] grid_3.5.1        nlme_3.1-137      jsonlite_1.5      gtable_0.2.0     
## [41] estimability_1.3  cli_1.1.0         stringi_1.2.3     reshape2_1.4.3   
## [45] xml2_1.2.0        sandwich_2.4-0    TH.data_1.0-9     tools_3.5.1      
## [49] glue_1.3.1        hms_0.4.2         survival_2.42-3   colorspace_1.3-2 
## [53] rvest_0.3.2       knitr_1.20        haven_1.1.2
</pre></div>
<div class="source"><pre class="knitr r">    <span class="hl kwd">Sys.time</span><span class="hl std">()</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] &quot;2021-01-08 17:58:18 EST&quot;
</pre></div>
</div></div>


</body>
</html>
