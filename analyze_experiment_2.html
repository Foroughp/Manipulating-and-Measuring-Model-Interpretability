
<!DOCTYPE html>
<html>
<head>
<style type="text/css">
.knitr .inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.rimage .left {
  text-align: left;
}
.rimage .right {
  text-align: right;
}
.rimage .center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
  <script src="https://yihui.name/media/js/center-images.js"></script>
  <title>A Report Generated by knitr</title>
</head>
<body>

  <p>This report is automatically generated with the R
    package <a href="https://yihui.name/knitr/"><strong>knitr</strong></a>
    (version <code class="knitr inline">1.20</code>)
    .</p>

<div class="chunk" id="auto-report"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(lmerTest)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: lme4
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: Matrix
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'lmerTest'
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:lme4':
## 
##     lmer
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:stats':
## 
##     step
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(lsmeans)</span>
</pre></div>
<div class="message"><pre class="knitr r">## The 'lsmeans' package is being deprecated.
## Users are encouraged to switch to 'emmeans'.
## See help('transition') for more information, including how
## to convert 'lsmeans' objects and scripts to work with 'emmeans'.
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(scales)</span>
<span class="hl kwd">library</span><span class="hl std">(ggrepel)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Loading required package: ggplot2
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(readr)</span>
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'readr'
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:scales':
## 
##     col_factor
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(magrittr)</span>
<span class="hl kwd">library</span><span class="hl std">(dplyr)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: package 'dplyr' was built under R version 3.5.2
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'dplyr'
</pre></div>
<div class="message"><pre class="knitr r">## The following objects are masked from 'package:stats':
## 
##     filter, lag
</pre></div>
<div class="message"><pre class="knitr r">## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(tidyr)</span>
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'tidyr'
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:magrittr':
## 
##     extract
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:Matrix':
## 
##     expand
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(ggplot2)</span>
<span class="hl kwd">library</span><span class="hl std">(xtable)</span>
<span class="hl kwd">library</span><span class="hl std">(lsr)</span>
<span class="hl kwd">theme_set</span><span class="hl std">(</span><span class="hl kwd">theme_bw</span><span class="hl std">())</span>

<span class="hl kwd">source</span><span class="hl std">(</span><span class="hl str">'lib.R'</span><span class="hl std">)</span>
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'ggridges'
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:ggplot2':
## 
##     scale_discrete_manual
</pre></div>
<div class="message"><pre class="knitr r">## ── Attaching packages ───────────────────────────────────────────────── tidyverse 1.2.1 ──
</pre></div>
<div class="message"><pre class="knitr r">## ✔ tibble  2.1.3     ✔ stringr 1.3.1
## ✔ purrr   0.2.5     ✔ forcats 0.3.0
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: package 'tibble' was built under R version 3.5.2
</pre></div>
<div class="message"><pre class="knitr r">## ── Conflicts ──────────────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ readr::col_factor()               masks scales::col_factor()
## ✖ purrr::discard()                  masks scales::discard()
## ✖ tidyr::expand()                   masks Matrix::expand()
## ✖ tidyr::extract()                  masks magrittr::extract()
## ✖ dplyr::filter()                   masks stats::filter()
## ✖ dplyr::lag()                      masks stats::lag()
## ✖ ggridges::scale_discrete_manual() masks ggplot2::scale_discrete_manual()
## ✖ purrr::set_names()                masks magrittr::set_names()
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwa">if</span> <span class="hl std">(</span><span class="hl opt">!</span><span class="hl kwd">dir.exists</span><span class="hl std">(</span><span class="hl str">'figures/exp2'</span><span class="hl std">))</span>
   <span class="hl kwd">dir.create</span><span class="hl std">(</span><span class="hl str">'figures/exp2'</span><span class="hl std">,</span> <span class="hl kwc">recursive</span> <span class="hl std">= T)</span>

<span class="hl kwd">emm_options</span><span class="hl std">(</span><span class="hl kwc">pbkrtest.limit</span> <span class="hl std">=</span> <span class="hl num">12500</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emm_options(pbkrtest.limit = 12500): could not find function &quot;emm_options&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">emm_options</span><span class="hl std">(</span><span class="hl kwc">lmerTest.limit</span> <span class="hl std">=</span> <span class="hl num">12500</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emm_options(lmerTest.limit = 12500): could not find function &quot;emm_options&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">my_pallete</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">'#92c5de'</span><span class="hl std">,</span><span class="hl str">'#0571b0'</span><span class="hl std">,</span><span class="hl str">'#f4a582'</span><span class="hl std">,</span><span class="hl str">'#ca0020'</span><span class="hl std">,</span><span class="hl str">'#404040'</span><span class="hl std">)</span>
<span class="hl com">#######################################################</span>
<span class="hl com"># Training phase</span>
<span class="hl com">#######################################################</span>
<span class="hl com"># read data</span>
<span class="hl std">training_responses</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">read_csv</span><span class="hl std">(</span><span class="hl str">&quot;data/exp2/data_training.csv&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Parsed with column specification:
## cols(
##   worker_id = col_character(),
##   condition = col_character(),
##   q_id = col_integer(),
##   model_pred = col_integer(),
##   actual_price = col_integer(),
##   final_pred = col_integer()
## )
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># recode conditions</span>
<span class="hl std">training_responses</span> <span class="hl kwb">&lt;-</span> <span class="hl std">training_responses</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">condition</span> <span class="hl std">=</span> <span class="hl kwd">recode_factor</span><span class="hl std">(</span><span class="hl kwd">as.factor</span><span class="hl std">(condition),</span>
                                   <span class="hl str">&quot;C1&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;CLEAR-2&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C3&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;CLEAR-8&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C0&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;BB-2&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C2&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;BB-8&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C4&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;NO-MODEL&quot;</span><span class="hl std">))</span>


<span class="hl com"># break data in two parts for histograms</span>
<span class="hl com"># update apartment indeces to start from 1</span>
<span class="hl std">training_responses1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(training_responses, q_id</span> <span class="hl opt">&lt;</span> <span class="hl num">5</span><span class="hl std">)</span>
<span class="hl std">training_responses1</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl kwb">&lt;-</span> <span class="hl std">training_responses1</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl opt">+</span> <span class="hl num">1</span>
<span class="hl std">training_responses2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(training_responses, q_id</span> <span class="hl opt">&gt;=</span> <span class="hl num">5</span><span class="hl std">)</span>
<span class="hl std">training_responses2</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl kwb">&lt;-</span> <span class="hl std">training_responses2</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl opt">+</span> <span class="hl num">1</span>

<span class="hl com"># plot</span>
<span class="hl std">breaks</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">seq</span><span class="hl std">(</span><span class="hl num">0</span><span class="hl std">,</span><span class="hl num">300000</span><span class="hl std">,</span><span class="hl num">100000</span><span class="hl std">)</span>
<span class="hl kwd">ggplot</span><span class="hl std">(training_responses1,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">x</span> <span class="hl std">= final_pred,</span> <span class="hl kwc">fill</span><span class="hl std">=condition))</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_histogram</span><span class="hl std">(</span><span class="hl kwc">binwidth</span> <span class="hl std">=</span> <span class="hl num">10000</span><span class="hl std">,</span> <span class="hl kwc">alpha</span> <span class="hl std">=</span> <span class="hl num">0.5</span><span class="hl std">)</span> <span class="hl opt">+</span>

  <span class="hl com">#geom_vline(alpha=.5, size=1, data = plot_data, aes(xintercept = median_final_pred, linetype=&quot;Particpants' median final prediction&quot;))+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= model_pred,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Model's prediction&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= actual_price,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Actual price&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_fill_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span><span class="hl kwc">values</span><span class="hl std">=my_pallete)</span> <span class="hl opt">+</span> <span class="hl kwd">scale_colour_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span> <span class="hl kwc">values</span><span class="hl std">=my_pallete)</span><span class="hl opt">+</span>
  <span class="hl kwd">facet_grid</span><span class="hl std">(</span><span class="hl kwd">vars</span><span class="hl std">(condition),</span> <span class="hl kwd">vars</span><span class="hl std">(q_id),</span> <span class="hl kwc">scale</span><span class="hl std">=</span><span class="hl str">'free'</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">xlab</span><span class="hl std">(</span><span class="hl str">&quot;Participants' price prediction&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">ylab</span><span class="hl std">(</span><span class="hl str">&quot;Number of participants&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_x_continuous</span><span class="hl std">(</span><span class="hl kwc">breaks</span> <span class="hl std">= breaks,</span> <span class="hl kwc">labels</span> <span class="hl std">=</span> <span class="hl kwd">sprintf</span><span class="hl std">(</span><span class="hl str">'$%dk'</span><span class="hl std">, breaks</span><span class="hl opt">/</span><span class="hl num">1e3</span><span class="hl std">))</span> <span class="hl opt">+</span>
  <span class="hl kwd">theme</span><span class="hl std">(</span><span class="hl kwc">panel.grid.major</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">panel.grid.minor</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span>
        <span class="hl kwc">legend.position</span><span class="hl std">=</span><span class="hl str">&quot;top&quot;</span><span class="hl std">,</span> <span class="hl kwc">legend.title</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">legend.key</span> <span class="hl std">=</span> <span class="hl kwd">element_rect</span><span class="hl std">(</span><span class="hl kwc">size</span> <span class="hl std">=</span> <span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">legend.key.size</span> <span class="hl std">=</span> <span class="hl kwd">unit</span><span class="hl std">(</span><span class="hl num">1.5</span><span class="hl std">,</span> <span class="hl str">'lines'</span><span class="hl std">),</span> <span class="hl kwc">legend.text</span><span class="hl std">=</span><span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">12</span><span class="hl std">),</span>
        <span class="hl kwc">axis.title.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">20</span><span class="hl std">),</span> <span class="hl kwc">axis.title.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">18</span><span class="hl std">),</span> <span class="hl kwc">axis.text.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">vjust</span><span class="hl std">=</span><span class="hl num">.5</span><span class="hl std">,</span> <span class="hl kwc">angle</span> <span class="hl std">=</span> <span class="hl num">45</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">axis.text.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">),</span>
        <span class="hl kwc">strip.text</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">))</span>
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-2-Rhtmlauto-report-1.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">filename</span> <span class="hl std">=</span> <span class="hl str">&quot;figures/exp2/dist_training_final_prediction_1.pdf&quot;</span><span class="hl std">,</span> <span class="hl kwc">height</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">,</span> <span class="hl kwc">width</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">)</span>

<span class="hl kwd">ggplot</span><span class="hl std">(training_responses2,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">x</span> <span class="hl std">= final_pred,</span> <span class="hl kwc">fill</span><span class="hl std">=condition))</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_histogram</span><span class="hl std">(</span><span class="hl kwc">binwidth</span> <span class="hl std">=</span> <span class="hl num">10000</span><span class="hl std">,</span> <span class="hl kwc">alpha</span> <span class="hl std">=</span> <span class="hl num">0.5</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= model_pred,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Model's prediction&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= actual_price,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Actual price&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_fill_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span><span class="hl kwc">values</span><span class="hl std">=my_pallete)</span> <span class="hl opt">+</span> <span class="hl kwd">scale_colour_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span> <span class="hl kwc">values</span><span class="hl std">=my_pallete)</span><span class="hl opt">+</span>
  <span class="hl kwd">facet_grid</span><span class="hl std">(</span><span class="hl kwd">vars</span><span class="hl std">(condition),</span> <span class="hl kwd">vars</span><span class="hl std">(q_id),</span> <span class="hl kwc">scale</span><span class="hl std">=</span><span class="hl str">'free'</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">xlab</span><span class="hl std">(</span><span class="hl str">&quot;Participants' price prediction&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">ylab</span><span class="hl std">(</span><span class="hl str">&quot;Number of participants&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_x_continuous</span><span class="hl std">(</span><span class="hl kwc">breaks</span> <span class="hl std">= breaks,</span> <span class="hl kwc">labels</span> <span class="hl std">=</span> <span class="hl kwd">sprintf</span><span class="hl std">(</span><span class="hl str">'$%dk'</span><span class="hl std">, breaks</span><span class="hl opt">/</span><span class="hl num">1e3</span><span class="hl std">))</span> <span class="hl opt">+</span>
  <span class="hl kwd">theme</span><span class="hl std">(</span><span class="hl kwc">panel.grid.major</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">panel.grid.minor</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span>
        <span class="hl kwc">legend.position</span><span class="hl std">=</span><span class="hl str">&quot;top&quot;</span><span class="hl std">,</span> <span class="hl kwc">legend.title</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">legend.key</span> <span class="hl std">=</span> <span class="hl kwd">element_rect</span><span class="hl std">(</span><span class="hl kwc">size</span> <span class="hl std">=</span> <span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">legend.key.size</span> <span class="hl std">=</span> <span class="hl kwd">unit</span><span class="hl std">(</span><span class="hl num">1.5</span><span class="hl std">,</span> <span class="hl str">'lines'</span><span class="hl std">),</span> <span class="hl kwc">legend.text</span><span class="hl std">=</span><span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">12</span><span class="hl std">),</span>
        <span class="hl kwc">axis.title.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">20</span><span class="hl std">),</span> <span class="hl kwc">axis.title.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">18</span><span class="hl std">),</span> <span class="hl kwc">axis.text.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">vjust</span><span class="hl std">=</span><span class="hl num">.5</span><span class="hl std">,</span> <span class="hl kwc">angle</span> <span class="hl std">=</span> <span class="hl num">45</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">axis.text.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">),</span>
        <span class="hl kwc">strip.text</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">))</span>
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-2-Rhtmlauto-report-2.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">filename</span> <span class="hl std">=</span> <span class="hl str">&quot;figures/exp2/dist_training_final_prediction_2.pdf&quot;</span><span class="hl std">,</span> <span class="hl kwc">height</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">,</span> <span class="hl kwc">width</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">)</span>

<span class="hl com">#######################################################</span>
<span class="hl com"># Testing phase</span>
<span class="hl com">#######################################################</span>
<span class="hl com"># read data</span>
<span class="hl std">responses</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">read_csv</span><span class="hl std">(</span><span class="hl str">&quot;data/exp2/data.csv&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Parsed with column specification:
## cols(
##   worker_id = col_character(),
##   condition = col_character(),
##   q_id = col_integer(),
##   model_pred = col_integer(),
##   actual_price = col_integer(),
##   user_model_pred = col_integer(),
##   user_model_pred_conf = col_integer(),
##   model_conf = col_integer(),
##   final_pred = col_integer(),
##   user_final_price_conf = col_integer(),
##   step1_time = col_integer(),
##   step2_time = col_integer(),
##   step3_time = col_integer()
## )
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># recode conditions and compute outcome measures</span>
<span class="hl std">responses</span> <span class="hl kwb">&lt;-</span> <span class="hl std">responses</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">condition</span> <span class="hl std">=</span> <span class="hl kwd">recode_factor</span><span class="hl std">(</span><span class="hl kwd">as.factor</span><span class="hl std">(condition),</span>
                                   <span class="hl str">&quot;C1&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;CLEAR-2&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C3&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;CLEAR-8&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C0&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;BB-2&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C2&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;BB-8&quot;</span><span class="hl std">,</span>
                                   <span class="hl str">&quot;C4&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;NO-MODEL&quot;</span><span class="hl std">))</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">pred_err</span> <span class="hl std">=</span> <span class="hl kwd">abs</span><span class="hl std">(final_pred</span> <span class="hl opt">-</span> <span class="hl std">actual_price)</span><span class="hl opt">/</span><span class="hl num">1000000.0</span><span class="hl std">,</span>
         <span class="hl kwc">model_err</span> <span class="hl std">=</span> <span class="hl kwd">abs</span><span class="hl std">(model_pred</span> <span class="hl opt">-</span> <span class="hl std">actual_price)</span><span class="hl opt">/</span><span class="hl num">1000000.0</span><span class="hl std">,</span>
         <span class="hl kwc">deviation</span> <span class="hl std">=</span> <span class="hl kwd">abs</span><span class="hl std">(final_pred</span> <span class="hl opt">-</span> <span class="hl std">model_pred)</span><span class="hl opt">/</span><span class="hl num">1000000.0</span><span class="hl std">,</span>
         <span class="hl kwc">sim_err</span> <span class="hl std">=</span> <span class="hl kwd">abs</span><span class="hl std">(user_model_pred</span> <span class="hl opt">-</span> <span class="hl std">model_pred)</span><span class="hl opt">/</span><span class="hl num">1000000.0</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ungroup</span><span class="hl std">()</span>


<span class="hl com">#########################################</span>
<span class="hl com"># histograms</span>
<span class="hl com">#########################################</span>
<span class="hl com"># users' final prediction</span>
<span class="hl std">breaks</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">seq</span><span class="hl std">(</span><span class="hl num">0</span><span class="hl std">,</span><span class="hl num">300000</span><span class="hl std">,</span><span class="hl num">100000</span><span class="hl std">)</span>
<span class="hl std">responses1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses, q_id</span> <span class="hl opt">&lt;</span> <span class="hl num">6</span><span class="hl std">)</span>
<span class="hl std">responses1</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl kwb">&lt;-</span> <span class="hl std">responses1</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl opt">+</span> <span class="hl num">1</span>
<span class="hl std">responses2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses, q_id</span> <span class="hl opt">&gt;=</span> <span class="hl num">6</span><span class="hl std">)</span>
<span class="hl std">responses2</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl kwb">&lt;-</span> <span class="hl std">responses2</span><span class="hl opt">$</span><span class="hl std">q_id</span> <span class="hl opt">+</span> <span class="hl num">1</span>

<span class="hl com"># replace -1 for actual price of apartment 12 (synthetic) with NA</span>
<span class="hl std">responses1</span><span class="hl opt">$</span><span class="hl std">actual_price</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">replace</span><span class="hl std">(responses1</span><span class="hl opt">$</span><span class="hl std">actual_price,</span> <span class="hl kwd">which</span><span class="hl std">(responses1</span><span class="hl opt">$</span><span class="hl std">actual_price</span> <span class="hl opt">== -</span><span class="hl num">1e5</span><span class="hl std">),</span> <span class="hl num">NA</span><span class="hl std">)</span>
<span class="hl std">responses2</span><span class="hl opt">$</span><span class="hl std">actual_price</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">replace</span><span class="hl std">(responses2</span><span class="hl opt">$</span><span class="hl std">actual_price,</span> <span class="hl kwd">which</span><span class="hl std">(responses2</span><span class="hl opt">$</span><span class="hl std">actual_price</span> <span class="hl opt">== -</span><span class="hl num">1e5</span><span class="hl std">),</span> <span class="hl num">NA</span><span class="hl std">)</span>

<span class="hl kwd">ggplot</span><span class="hl std">(responses1,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">x</span> <span class="hl std">= final_pred,</span> <span class="hl kwc">fill</span><span class="hl std">=condition))</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_histogram</span><span class="hl std">(</span><span class="hl kwc">binwidth</span> <span class="hl std">=</span> <span class="hl num">10000</span><span class="hl std">,</span> <span class="hl kwc">alpha</span> <span class="hl std">=</span> <span class="hl num">0.5</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= model_pred,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Model's prediction&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= actual_price,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Actual price&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_fill_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span><span class="hl kwc">values</span><span class="hl std">=my_pallete)</span> <span class="hl opt">+</span> <span class="hl kwd">scale_colour_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span> <span class="hl kwc">values</span><span class="hl std">=my_pallete)</span><span class="hl opt">+</span>
  <span class="hl kwd">facet_grid</span><span class="hl std">(</span><span class="hl kwd">vars</span><span class="hl std">(condition),</span> <span class="hl kwd">vars</span><span class="hl std">(q_id),</span> <span class="hl kwc">scale</span><span class="hl std">=</span><span class="hl str">'free'</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">xlab</span><span class="hl std">(</span><span class="hl str">&quot;Participants' price prediction&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">ylab</span><span class="hl std">(</span><span class="hl str">&quot;Number of participants&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_x_continuous</span><span class="hl std">(</span><span class="hl kwc">breaks</span> <span class="hl std">= breaks,</span> <span class="hl kwc">labels</span> <span class="hl std">=</span> <span class="hl kwd">sprintf</span><span class="hl std">(</span><span class="hl str">'$%dk'</span><span class="hl std">, breaks</span><span class="hl opt">/</span><span class="hl num">1e3</span><span class="hl std">))</span> <span class="hl opt">+</span>
  <span class="hl kwd">theme</span><span class="hl std">(</span><span class="hl kwc">panel.grid.major</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">panel.grid.minor</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span>
        <span class="hl kwc">legend.position</span><span class="hl std">=</span><span class="hl str">&quot;top&quot;</span><span class="hl std">,</span> <span class="hl kwc">legend.title</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">legend.key</span> <span class="hl std">=</span> <span class="hl kwd">element_rect</span><span class="hl std">(</span><span class="hl kwc">size</span> <span class="hl std">=</span> <span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">legend.key.size</span> <span class="hl std">=</span> <span class="hl kwd">unit</span><span class="hl std">(</span><span class="hl num">1.5</span><span class="hl std">,</span> <span class="hl str">'lines'</span><span class="hl std">),</span> <span class="hl kwc">legend.text</span><span class="hl std">=</span><span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">12</span><span class="hl std">),</span>
        <span class="hl kwc">axis.title.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">20</span><span class="hl std">),</span> <span class="hl kwc">axis.title.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">18</span><span class="hl std">),</span> <span class="hl kwc">axis.text.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">vjust</span><span class="hl std">=</span><span class="hl num">.5</span><span class="hl std">,</span> <span class="hl kwc">angle</span> <span class="hl std">=</span> <span class="hl num">45</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">axis.text.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">),</span>
        <span class="hl kwc">strip.text</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">))</span>
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-2-Rhtmlauto-report-3.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">filename</span> <span class="hl std">=</span> <span class="hl str">&quot;figures/exp2/dist_final_prediction_1.pdf&quot;</span><span class="hl std">,</span> <span class="hl kwc">height</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">,</span> <span class="hl kwc">width</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">)</span>

<span class="hl kwd">ggplot</span><span class="hl std">(responses2,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">x</span> <span class="hl std">= final_pred,</span> <span class="hl kwc">fill</span><span class="hl std">=condition))</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_histogram</span><span class="hl std">(</span><span class="hl kwc">binwidth</span> <span class="hl std">=</span> <span class="hl num">10000</span><span class="hl std">,</span> <span class="hl kwc">alpha</span> <span class="hl std">=</span> <span class="hl num">0.5</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= model_pred,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Model's prediction&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">geom_vline</span><span class="hl std">(</span><span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.2</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">xintercept</span> <span class="hl std">= actual_price,</span> <span class="hl kwc">linetype</span><span class="hl std">=</span><span class="hl str">&quot;Actual price&quot;</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_fill_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span><span class="hl kwc">values</span><span class="hl std">=my_pallete)</span> <span class="hl opt">+</span> <span class="hl kwd">scale_colour_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span> <span class="hl kwc">values</span><span class="hl std">=my_pallete)</span><span class="hl opt">+</span>
  <span class="hl kwd">facet_grid</span><span class="hl std">(</span><span class="hl kwd">vars</span><span class="hl std">(condition),</span> <span class="hl kwd">vars</span><span class="hl std">(q_id),</span> <span class="hl kwc">scale</span><span class="hl std">=</span><span class="hl str">'free'</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">xlab</span><span class="hl std">(</span><span class="hl str">&quot;Participants' price prediction&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">ylab</span><span class="hl std">(</span><span class="hl str">&quot;Number of participants&quot;</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_x_continuous</span><span class="hl std">(</span><span class="hl kwc">breaks</span> <span class="hl std">= breaks,</span> <span class="hl kwc">labels</span> <span class="hl std">=</span> <span class="hl kwd">sprintf</span><span class="hl std">(</span><span class="hl str">'$%dk'</span><span class="hl std">, breaks</span><span class="hl opt">/</span><span class="hl num">1e3</span><span class="hl std">))</span> <span class="hl opt">+</span>
  <span class="hl kwd">theme</span><span class="hl std">(</span><span class="hl kwc">panel.grid.major</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">panel.grid.minor</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span>
        <span class="hl kwc">legend.position</span><span class="hl std">=</span><span class="hl str">&quot;top&quot;</span><span class="hl std">,</span> <span class="hl kwc">legend.title</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">legend.key</span> <span class="hl std">=</span> <span class="hl kwd">element_rect</span><span class="hl std">(</span><span class="hl kwc">size</span> <span class="hl std">=</span> <span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">legend.key.size</span> <span class="hl std">=</span> <span class="hl kwd">unit</span><span class="hl std">(</span><span class="hl num">1.5</span><span class="hl std">,</span> <span class="hl str">'lines'</span><span class="hl std">),</span> <span class="hl kwc">legend.text</span><span class="hl std">=</span><span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">12</span><span class="hl std">),</span>
        <span class="hl kwc">axis.title.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">20</span><span class="hl std">),</span> <span class="hl kwc">axis.title.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">18</span><span class="hl std">),</span> <span class="hl kwc">axis.text.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">vjust</span><span class="hl std">=</span><span class="hl num">.5</span><span class="hl std">,</span> <span class="hl kwc">angle</span> <span class="hl std">=</span> <span class="hl num">45</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">),</span> <span class="hl kwc">axis.text.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">),</span>
        <span class="hl kwc">strip.text</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">))</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: Removed 750 rows containing missing values (geom_vline).
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-2-Rhtmlauto-report-4.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">filename</span> <span class="hl std">=</span> <span class="hl str">&quot;figures/exp2/dist_final_prediction_2.pdf&quot;</span><span class="hl std">,</span> <span class="hl kwc">height</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">,</span> <span class="hl kwc">width</span><span class="hl std">=</span><span class="hl num">10</span><span class="hl std">)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: Removed 750 rows containing missing values (geom_vline).
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#########################################</span>
<span class="hl com"># hypotheses analyses and plots</span>
<span class="hl com">#########################################</span>
<span class="hl com"># limit everything to first 10 questions for now</span>
<span class="hl std">responses_normal</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses, q_id</span> <span class="hl opt">&lt;</span> <span class="hl num">10</span><span class="hl std">)</span>

<span class="hl com"># limit to the four primary conditions</span>
<span class="hl com"># add transparency and number of features factors</span>
<span class="hl std">model_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses_normal, condition</span> <span class="hl opt">!=</span> <span class="hl str">&quot;NO-MODEL&quot;</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">transparency</span> <span class="hl std">=</span> <span class="hl kwd">ifelse</span><span class="hl std">(condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span> <span class="hl opt">|</span> <span class="hl std">condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-8&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;CLEAR&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;BB&quot;</span><span class="hl std">))</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">num_features</span> <span class="hl std">=</span> <span class="hl kwd">ifelse</span><span class="hl std">(condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span> <span class="hl opt">|</span> <span class="hl std">condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;BB-2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;two&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;eight&quot;</span><span class="hl std">))</span>

<span class="hl com">########################################</span>
<span class="hl com"># DEVIATION FROM THE MODEL</span>
<span class="hl com">########################################</span>
<span class="hl com"># fit the two factor model</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(deviation</span> <span class="hl opt">~</span> <span class="hl std">transparency</span><span class="hl opt">*</span><span class="hl std">num_features</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">|</span><span class="hl std">worker_id),</span> <span class="hl kwc">data</span><span class="hl std">=model_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(hlm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Linear mixed model fit by REML. t-tests use Satterthwaite's method ['lmerModLmerTest']
## Formula: deviation ~ transparency * num_features + (1 | worker_id)
##    Data: model_data
## 
## REML criterion at convergence: -34575.2
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -3.6842 -0.5617 -0.1414  0.4223  8.5611 
## 
## Random effects:
##  Groups    Name        Variance  Std.Dev.
##  worker_id (Intercept) 4.359e-05 0.006602
##  Residual              1.568e-04 0.012521
## Number of obs: 5980, groups:  worker_id, 598
## 
## Fixed effects:
##                                     Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)                        1.391e-02  6.265e-04  5.940e+02  22.209   &lt;2e-16 ***
## transparencyCLEAR                  1.999e-03  8.875e-04  5.940e+02   2.253   0.0246 *  
## num_featurestwo                    1.337e-04  8.920e-04  5.940e+02   0.150   0.8809    
## transparencyCLEAR:num_featurestwo -1.700e-03  1.259e-03  5.940e+02  -1.350   0.1775    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##             (Intr) trCLEAR nm_ftr
## trnsprCLEAR -0.706               
## num_fetrstw -0.702  0.496        
## trnsCLEAR:_  0.497 -0.705  -0.708
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(hlm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table,</span> <span class="hl kwc">digits</span><span class="hl std">=</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">0</span><span class="hl std">,</span><span class="hl num">3</span><span class="hl std">,</span><span class="hl num">3</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">,</span><span class="hl num">4</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:30 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrrr}
##   \hline
##  &amp; Sum Sq &amp; Mean Sq &amp; NumDF &amp; DenDF &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## transparency &amp; 0.001 &amp; 0.001 &amp; 1.00 &amp; 594.00 &amp; 3.33 &amp; 0.0685 \\ 
##   num\_features &amp; 0.000 &amp; 0.000 &amp; 1.00 &amp; 594.00 &amp; 1.29 &amp; 0.2556 \\ 
##   transparency:num\_features &amp; 0.000 &amp; 0.000 &amp; 1.00 &amp; 594.00 &amp; 1.82 &amp; 0.1775 \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for all combinations of transparency and number of features</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(hlm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(hlm_model, c(&quot;transparency&quot;, &quot;num_features&quot;)): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear2_vs_bb8</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans::contrast(means, clist): object 'means' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear8_vs_else</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans::contrast(means, clist): object 'means' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear2_vs_else</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans::contrast(means, clist): object 'means' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">model_data</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">outcome</span> <span class="hl std">= deviation</span> <span class="hl opt">*</span> <span class="hl num">1e3</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">plot_distributions_with_means</span><span class="hl std">(.,</span> <span class="hl str">'Average deviation from the model'</span><span class="hl std">,</span> <span class="hl str">'Proportion of participants'</span><span class="hl std">, my_pallete)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(hlm_model, c(&quot;condition&quot;)): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">file</span> <span class="hl std">=</span> <span class="hl str">'figures/exp2/dev_from_model.pdf'</span><span class="hl std">,</span> <span class="hl kwc">height</span> <span class="hl std">=</span><span class="hl num">4</span><span class="hl std">,</span> <span class="hl kwc">width</span> <span class="hl std">=</span> <span class="hl num">4</span><span class="hl std">)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: Removed 750 rows containing missing values (geom_vline).
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">########################################</span>
<span class="hl com"># Self-reported trust</span>
<span class="hl com">########################################</span>
<span class="hl com"># run 2-by-2 anova for self-reported trust</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(model_conf</span> <span class="hl opt">~</span> <span class="hl std">transparency</span> <span class="hl opt">*</span> <span class="hl std">num_features</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span> <span class="hl opt">|</span> <span class="hl std">worker_id),</span> <span class="hl kwc">data</span> <span class="hl std">= model_data)</span>
<span class="hl kwd">anova</span><span class="hl std">(hlm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Type III Analysis of Variance Table with Satterthwaite's method
##                            Sum Sq Mean Sq NumDF DenDF F value Pr(&gt;F)
## transparency              0.26736 0.26736     1   594  0.3083 0.5790
## num_features              0.69973 0.69973     1   594  0.8068 0.3694
## transparency:num_features 0.44954 0.44954     1   594  0.5183 0.4719
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># clear-2 vs. bb-8</span>
<span class="hl com"># get the marginal means for all combinations of transparency and number of features</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(hlm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(hlm_model, c(&quot;transparency&quot;, &quot;num_features&quot;)): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear2_vs_bb8</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans::contrast(means, clist): object 'means' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># effect sizes</span>
<span class="hl std">clear2_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(model_data, condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span><span class="hl std">)</span>
<span class="hl std">bb8_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(model_data, condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;BB-8&quot;</span><span class="hl std">)</span>
<span class="hl std">effect_size</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">cohensD</span><span class="hl std">(clear2_data</span><span class="hl opt">$</span><span class="hl std">model_conf, bb8_data</span><span class="hl opt">$</span><span class="hl std">model_conf)</span>

<span class="hl com">########################################</span>
<span class="hl com"># Simulation error</span>
<span class="hl com">########################################</span>
<span class="hl com"># fit the two factor model</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(sim_err</span> <span class="hl opt">~</span> <span class="hl std">transparency</span><span class="hl opt">*</span><span class="hl std">num_features</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">|</span><span class="hl std">worker_id),</span> <span class="hl kwc">data</span><span class="hl std">=model_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(hlm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Linear mixed model fit by REML. t-tests use Satterthwaite's method ['lmerModLmerTest']
## Formula: sim_err ~ transparency * num_features + (1 | worker_id)
##    Data: model_data
## 
## REML criterion at convergence: -28838.3
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -2.3589 -0.5772 -0.2230  0.3563  7.0720 
## 
## Random effects:
##  Groups    Name        Variance  Std.Dev.
##  worker_id (Intercept) 8.664e-05 0.009308
##  Residual              4.180e-04 0.020445
## Number of obs: 5980, groups:  worker_id, 598
## 
## Fixed effects:
##                                     Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)                        2.236e-02  9.223e-04  5.940e+02  24.242  &lt; 2e-16 ***
## transparencyCLEAR                  3.542e-03  1.306e-03  5.940e+02   2.711  0.00689 ** 
## num_featurestwo                   -1.963e-03  1.313e-03  5.940e+02  -1.495  0.13547    
## transparencyCLEAR:num_featurestwo -1.218e-02  1.854e-03  5.940e+02  -6.568 1.11e-10 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##             (Intr) trCLEAR nm_ftr
## trnsprCLEAR -0.706               
## num_fetrstw -0.702  0.496        
## trnsCLEAR:_  0.497 -0.705  -0.708
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(hlm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table,</span> <span class="hl kwc">digits</span><span class="hl std">=</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">0</span><span class="hl std">,</span><span class="hl num">3</span><span class="hl std">,</span><span class="hl num">3</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">,</span><span class="hl num">4</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:32 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrrr}
##   \hline
##  &amp; Sum Sq &amp; Mean Sq &amp; NumDF &amp; DenDF &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## transparency &amp; 0.003 &amp; 0.003 &amp; 1.00 &amp; 594.00 &amp; 7.54 &amp; 0.0062 \\ 
##   num\_features &amp; 0.032 &amp; 0.032 &amp; 1.00 &amp; 594.00 &amp; 75.45 &amp; 0.0000 \\ 
##   transparency:num\_features &amp; 0.018 &amp; 0.018 &amp; 1.00 &amp; 594.00 &amp; 43.14 &amp; 0.0000 \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for all combinations of transparency and number of features</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(hlm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(hlm_model, c(&quot;transparency&quot;, &quot;num_features&quot;)): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear2_vs_else</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans::contrast(means, clist): object 'means' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear8_vs_else</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans::contrast(means, clist): object 'means' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">model_data</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">outcome</span> <span class="hl std">= sim_err</span> <span class="hl opt">*</span> <span class="hl num">1e3</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">plot_distributions_with_means</span><span class="hl std">(.,</span> <span class="hl str">'Average simulation error'</span><span class="hl std">,</span> <span class="hl str">'Proportion of participants'</span><span class="hl std">, my_pallete,</span> <span class="hl kwc">xlim_percentile</span> <span class="hl std">=</span> <span class="hl num">.95</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(hlm_model, c(&quot;condition&quot;)): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">file</span> <span class="hl std">=</span> <span class="hl str">'figures/exp2/sim_error.pdf'</span><span class="hl std">,</span> <span class="hl kwc">height</span> <span class="hl std">=</span> <span class="hl num">4</span><span class="hl std">,</span> <span class="hl kwc">width</span> <span class="hl std">=</span> <span class="hl num">4</span><span class="hl std">)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: Removed 750 rows containing missing values (geom_vline).
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">########################################</span>
<span class="hl com"># PREDICTION ERROR</span>
<span class="hl com">########################################</span>
<span class="hl com"># primary conditions</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(pred_err</span> <span class="hl opt">~</span> <span class="hl std">condition</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">|</span><span class="hl std">worker_id),</span> <span class="hl kwc">data</span><span class="hl std">=model_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(hlm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Linear mixed model fit by REML. t-tests use Satterthwaite's method ['lmerModLmerTest']
## Formula: pred_err ~ condition + (1 | worker_id)
##    Data: model_data
## 
## REML criterion at convergence: -29752.6
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -1.6440 -0.6588 -0.1565  0.4137  8.4586 
## 
## Random effects:
##  Groups    Name        Variance  Std.Dev.
##  worker_id (Intercept) 1.021e-05 0.003195
##  Residual              3.919e-04 0.019797
## Number of obs: 5980, groups:  worker_id, 598
## 
## Fixed effects:
##                   Estimate Std. Error        df t value Pr(&gt;|t|)    
## (Intercept)      2.176e-02  5.739e-04 5.940e+02  37.919  &lt; 2e-16 ***
## conditionCLEAR-8 3.967e-03  8.116e-04 5.940e+02   4.888 1.31e-06 ***
## conditionBB-2    1.104e-03  8.157e-04 5.940e+02   1.353    0.176    
## conditionBB-8    1.293e-03  8.102e-04 5.940e+02   1.596    0.111    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##             (Intr) cCLEAR cnBB-2
## cndtCLEAR-8 -0.707              
## conditnBB-2 -0.704  0.497       
## conditnBB-8 -0.708  0.501  0.498
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(hlm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table,</span> <span class="hl kwc">digits</span><span class="hl std">=</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">0</span><span class="hl std">,</span><span class="hl num">3</span><span class="hl std">,</span><span class="hl num">3</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">,</span><span class="hl num">4</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:33 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrrr}
##   \hline
##  &amp; Sum Sq &amp; Mean Sq &amp; NumDF &amp; DenDF &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## condition &amp; 0.010 &amp; 0.003 &amp; 3.00 &amp; 594.00 &amp; 8.60 &amp; 0.0000 \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for conditions</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(hlm_model,</span> <span class="hl str">&quot;condition&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(hlm_model, &quot;condition&quot;): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># two-way anova</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(pred_err</span> <span class="hl opt">~</span> <span class="hl std">transparency</span> <span class="hl opt">*</span> <span class="hl std">num_features</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">|</span><span class="hl std">worker_id),</span> <span class="hl kwc">data</span><span class="hl std">=model_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(hlm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Linear mixed model fit by REML. t-tests use Satterthwaite's method ['lmerModLmerTest']
## Formula: pred_err ~ transparency * num_features + (1 | worker_id)
##    Data: model_data
## 
## REML criterion at convergence: -29752.6
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -1.6440 -0.6588 -0.1565  0.4137  8.4586 
## 
## Random effects:
##  Groups    Name        Variance  Std.Dev.
##  worker_id (Intercept) 1.021e-05 0.003195
##  Residual              3.919e-04 0.019797
## Number of obs: 5980, groups:  worker_id, 598
## 
## Fixed effects:
##                                     Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)                        2.305e-02  5.720e-04  5.940e+02  40.305  &lt; 2e-16 ***
## transparencyCLEAR                  2.674e-03  8.102e-04  5.940e+02   3.300  0.00102 ** 
## num_featurestwo                   -1.890e-04  8.144e-04  5.940e+02  -0.232  0.81652    
## transparencyCLEAR:num_featurestwo -3.778e-03  1.150e-03  5.940e+02  -3.286  0.00108 ** 
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##             (Intr) trCLEAR nm_ftr
## trnsprCLEAR -0.706               
## num_fetrstw -0.702  0.496        
## trnsCLEAR:_  0.497 -0.705  -0.708
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># setup contrasts</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(hlm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span><span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(hlm_model, c(&quot;transparency&quot;, &quot;num_features&quot;)): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear8_vs_else</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans::contrast(means, clist): object 'means' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(hlm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table,</span> <span class="hl kwc">digits</span><span class="hl std">=</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">0</span><span class="hl std">,</span><span class="hl num">3</span><span class="hl std">,</span><span class="hl num">3</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">,</span><span class="hl num">4</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:33 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrrr}
##   \hline
##  &amp; Sum Sq &amp; Mean Sq &amp; NumDF &amp; DenDF &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## transparency &amp; 0.001 &amp; 0.001 &amp; 1.00 &amp; 594.00 &amp; 1.86 &amp; 0.1727 \\ 
##   num\_features &amp; 0.005 &amp; 0.005 &amp; 1.00 &amp; 594.00 &amp; 13.07 &amp; 0.0003 \\ 
##   transparency:num\_features &amp; 0.004 &amp; 0.004 &amp; 1.00 &amp; 594.00 &amp; 10.80 &amp; 0.0011 \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># all conditions including baseline</span>
<span class="hl std">model_baseline_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses_normal, q_id</span> <span class="hl opt">&lt;</span> <span class="hl num">10</span><span class="hl std">)</span>

<span class="hl com"># fit the one factor model</span>
<span class="hl std">hlm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lmer</span><span class="hl std">(pred_err</span> <span class="hl opt">~</span> <span class="hl std">condition</span> <span class="hl opt">+</span> <span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">|</span><span class="hl std">worker_id),</span> <span class="hl kwc">data</span><span class="hl std">=model_baseline_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(hlm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Linear mixed model fit by REML. t-tests use Satterthwaite's method ['lmerModLmerTest']
## Formula: pred_err ~ condition + (1 | worker_id)
##    Data: model_baseline_data
## 
## REML criterion at convergence: -36060
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -2.2360 -0.6311 -0.1597  0.4097  7.6289 
## 
## Random effects:
##  Groups    Name        Variance  Std.Dev.
##  worker_id (Intercept) 1.951e-05 0.004417
##  Residual              4.577e-04 0.021394
## Number of obs: 7500, groups:  worker_id, 750
## 
## Fixed effects:
##                    Estimate Std. Error        df t value Pr(&gt;|t|)    
## (Intercept)       2.176e-02  6.597e-04 7.450e+02  32.984  &lt; 2e-16 ***
## conditionCLEAR-8  3.967e-03  9.330e-04 7.450e+02   4.252 2.39e-05 ***
## conditionBB-2     1.104e-03  9.377e-04 7.450e+02   1.177    0.239    
## conditionBB-8     1.293e-03  9.314e-04 7.450e+02   1.388    0.165    
## conditionNO-MODEL 9.385e-03  9.299e-04 7.450e+02  10.092  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Correlation of Fixed Effects:
##             (Intr) cCLEAR cnBB-2 cnBB-8
## cndtCLEAR-8 -0.707                     
## conditnBB-2 -0.704  0.497              
## conditnBB-8 -0.708  0.501  0.498       
## cndNO-MODEL -0.709  0.502  0.499  0.502
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(hlm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table)</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:34 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrrr}
##   \hline
##  &amp; Sum Sq &amp; Mean Sq &amp; NumDF &amp; DenDF &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## condition &amp; 0.06 &amp; 0.02 &amp; 4.00 &amp; 745.00 &amp; 33.06 &amp; 0.0000 \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for conditions</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(hlm_model,</span> <span class="hl str">&quot;condition&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(hlm_model, &quot;condition&quot;): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">model_vs_baseline</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">4</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans::contrast(means, clist): object 'means' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">model_baseline_data</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">outcome</span> <span class="hl std">= pred_err</span> <span class="hl opt">*</span> <span class="hl num">1e3</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">plot_distributions_with_means</span><span class="hl std">(.,</span> <span class="hl str">'Average prediction error'</span><span class="hl std">,</span> <span class="hl str">'Proportion of participants'</span><span class="hl std">, my_pallete,</span>
                                <span class="hl kwc">xlim_percentile</span><span class="hl std">=</span><span class="hl num">0.95</span><span class="hl std">,</span> <span class="hl kwc">vertical_line</span> <span class="hl std">=</span> <span class="hl kwd">mean</span><span class="hl std">(model_baseline_data</span><span class="hl opt">$</span><span class="hl std">model_err)</span> <span class="hl opt">*</span> <span class="hl num">1e3</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(hlm_model, c(&quot;condition&quot;)): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">file</span> <span class="hl std">=</span> <span class="hl str">'figures/exp2/prediction_error.pdf'</span><span class="hl std">,</span> <span class="hl kwc">height</span> <span class="hl std">=</span> <span class="hl num">4.5</span><span class="hl std">,</span> <span class="hl kwc">width</span> <span class="hl std">=</span><span class="hl num">4</span><span class="hl std">)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: Removed 750 rows containing missing values (geom_vline).
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">####################################</span>
<span class="hl com"># last two questions (unusual apartments)</span>
<span class="hl com">####################################</span>
<span class="hl std">responses_unusual</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses, q_id</span> <span class="hl opt">&gt;=</span> <span class="hl num">10</span><span class="hl std">)</span>

<span class="hl com">########################################</span>
<span class="hl com"># deviation for q11</span>
<span class="hl com">########################################</span>
<span class="hl std">q11_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses_unusual, q_id</span> <span class="hl opt">==</span> <span class="hl num">10</span><span class="hl std">)</span>

<span class="hl com"># prediction error in no-model vs rest</span>
<span class="hl std">lm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lm</span><span class="hl std">(pred_err</span> <span class="hl opt">~</span> <span class="hl std">condition,</span> <span class="hl kwc">data</span><span class="hl std">=q11_data)</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(lm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;condition&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(lm_model, c(&quot;condition&quot;)): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">baseline_vs_rest</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">4</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans::contrast(means, clist): object 'means' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#fit a model for deviation</span>
<span class="hl std">q11_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(q11_data, condition</span> <span class="hl opt">!=</span> <span class="hl str">&quot;NO-MODEL&quot;</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">transparency</span> <span class="hl std">=</span> <span class="hl kwd">ifelse</span><span class="hl std">(condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span> <span class="hl opt">|</span> <span class="hl std">condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-8&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;CLEAR&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;BB&quot;</span><span class="hl std">))</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">num_features</span> <span class="hl std">=</span> <span class="hl kwd">ifelse</span><span class="hl std">(condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span> <span class="hl opt">|</span> <span class="hl std">condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;BB-2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;two&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;eight&quot;</span><span class="hl std">))</span>


<span class="hl com"># prediction error transparent vs. black-box</span>
<span class="hl std">lm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lm</span><span class="hl std">(pred_err</span> <span class="hl opt">~</span> <span class="hl std">transparency</span><span class="hl opt">*</span><span class="hl std">num_features,</span> <span class="hl kwc">data</span><span class="hl std">=q11_data)</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(lm_model,</span>  <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(lm_model, c(&quot;transparency&quot;, &quot;num_features&quot;)): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear_vs_bb</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans::contrast(means, clist): object 'means' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># fit the one factor model</span>
<span class="hl std">lm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lm</span><span class="hl std">(deviation</span> <span class="hl opt">~</span> <span class="hl std">condition,</span> <span class="hl kwc">data</span><span class="hl std">=q11_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(lm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:
## lm(formula = deviation ~ condition, data = q11_data)
## 
## Residuals:
##       Min        1Q    Median        3Q       Max 
## -0.016735 -0.006735 -0.002733  0.004305  0.064000 
## 
## Coefficients:
##                    Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)       0.0160000  0.0010135  15.788   &lt;2e-16 ***
## conditionCLEAR-8 -0.0032667  0.0014332  -2.279    0.023 *  
## conditionBB-2     0.0007347  0.0014405   0.510    0.610    
## conditionBB-8    -0.0003046  0.0014309  -0.213    0.831    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.01241 on 594 degrees of freedom
## Multiple R-squared:  0.01494,	Adjusted R-squared:  0.009962 
## F-statistic: 3.002 on 3 and 594 DF,  p-value: 0.03
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at one-way ANOVA</span>
<span class="hl kwd">anova</span><span class="hl std">(lm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Analysis of Variance Table
## 
## Response: deviation
##            Df   Sum Sq    Mean Sq F value Pr(&gt;F)  
## condition   3 0.001388 0.00046257  3.0024   0.03 *
## Residuals 594 0.091514 0.00015406                 
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># run 2-by-2 anova for deviation on q11</span>
<span class="hl com"># fit the two factor model</span>
<span class="hl std">lm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lm</span><span class="hl std">(deviation</span> <span class="hl opt">~</span> <span class="hl std">transparency</span><span class="hl opt">*</span><span class="hl std">num_features,</span> <span class="hl kwc">data</span><span class="hl std">=q11_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(lm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:
## lm(formula = deviation ~ transparency * num_features, data = q11_data)
## 
## Residuals:
##       Min        1Q    Median        3Q       Max 
## -0.016735 -0.006735 -0.002733  0.004305  0.064000 
## 
## Coefficients:
##                                    Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)                        0.015695   0.001010  15.539   &lt;2e-16 ***
## transparencyCLEAR                 -0.002962   0.001431  -2.070   0.0389 *  
## num_featurestwo                    0.001039   0.001438   0.723   0.4702    
## transparencyCLEAR:num_featurestwo  0.002227   0.002030   1.097   0.2731    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.01241 on 594 degrees of freedom
## Multiple R-squared:  0.01494,	Adjusted R-squared:  0.009962 
## F-statistic: 3.002 on 3 and 594 DF,  p-value: 0.03
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(lm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table)</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:35 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrr}
##   \hline
##  &amp; Df &amp; Sum Sq &amp; Mean Sq &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## transparency &amp; 1 &amp; 0.00 &amp; 0.00 &amp; 3.29 &amp; 0.0702 \\ 
##   num\_features &amp; 1 &amp; 0.00 &amp; 0.00 &amp; 4.51 &amp; 0.0340 \\ 
##   transparency:num\_features &amp; 1 &amp; 0.00 &amp; 0.00 &amp; 1.20 &amp; 0.2731 \\ 
##   Residuals &amp; 594 &amp; 0.09 &amp; 0.00 &amp;  &amp;  \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for all combinations of transparency and number of features</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(lm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(lm_model, c(&quot;transparency&quot;, &quot;num_features&quot;)): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear_vs_bb</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans::contrast(means, clist): object 'means' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">########################################</span>
<span class="hl com"># deviation for q12</span>
<span class="hl com">########################################</span>
<span class="hl com"># comparison of prediction error for baseline with the rest</span>
<span class="hl std">q12_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(responses_unusual, q_id</span> <span class="hl opt">==</span> <span class="hl num">11</span><span class="hl std">)</span>

<span class="hl com">#fit a model for deviation</span>
<span class="hl std">q12_data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">filter</span><span class="hl std">(q12_data, condition</span> <span class="hl opt">!=</span> <span class="hl str">&quot;NO-MODEL&quot;</span><span class="hl std">)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">transparency</span> <span class="hl std">=</span> <span class="hl kwd">ifelse</span><span class="hl std">(condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span> <span class="hl opt">|</span> <span class="hl std">condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-8&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;CLEAR&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;BB&quot;</span><span class="hl std">))</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">mutate</span><span class="hl std">(</span><span class="hl kwc">num_features</span> <span class="hl std">=</span> <span class="hl kwd">ifelse</span><span class="hl std">(condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;CLEAR-2&quot;</span> <span class="hl opt">|</span> <span class="hl std">condition</span> <span class="hl opt">==</span> <span class="hl str">&quot;BB-2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;two&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;eight&quot;</span><span class="hl std">))</span>

<span class="hl com"># fit the one factor model</span>
<span class="hl std">lm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lm</span><span class="hl std">(deviation</span> <span class="hl opt">~</span> <span class="hl std">condition,</span> <span class="hl kwc">data</span><span class="hl std">=q12_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(lm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:
## lm(formula = deviation ~ condition, data = q12_data)
## 
## Residuals:
##       Min        1Q    Median        3Q       Max 
## -0.031258 -0.012133 -0.002133  0.008667  0.108742 
## 
## Coefficients:
##                  Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)      0.021333   0.001603  13.309  &lt; 2e-16 ***
## conditionCLEAR-8 0.000800   0.002267   0.353   0.7243    
## conditionBB-2    0.004245   0.002278   1.863   0.0629 .  
## conditionBB-8    0.009925   0.002263   4.385 1.37e-05 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.01963 on 594 degrees of freedom
## Multiple R-squared:  0.03867,	Adjusted R-squared:  0.03381 
## F-statistic: 7.964 on 3 and 594 DF,  p-value: 3.264e-05
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at one-way ANOVA</span>
<span class="hl kwd">anova</span><span class="hl std">(lm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Analysis of Variance Table
## 
## Response: deviation
##            Df   Sum Sq    Mean Sq F value    Pr(&gt;F)    
## condition   3 0.009208 0.00306946   7.964 3.264e-05 ***
## Residuals 594 0.228937 0.00038542                      
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># run 2-by-2 anova for deviation on q11</span>
<span class="hl com"># fit the two factor model</span>
<span class="hl std">lm_model</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lm</span><span class="hl std">(deviation</span> <span class="hl opt">~</span> <span class="hl std">transparency</span><span class="hl opt">*</span><span class="hl std">num_features,</span> <span class="hl kwc">data</span><span class="hl std">=q12_data)</span>
<span class="hl kwd">summary</span><span class="hl std">(lm_model)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 
## Call:
## lm(formula = deviation ~ transparency * num_features, data = q12_data)
## 
## Residuals:
##       Min        1Q    Median        3Q       Max 
## -0.031258 -0.012133 -0.002133  0.008667  0.108742 
## 
## Coefficients:
##                                    Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)                        0.031258   0.001598  19.565  &lt; 2e-16 ***
## transparencyCLEAR                 -0.009125   0.002263  -4.032 6.25e-05 ***
## num_featurestwo                   -0.005680   0.002275  -2.497   0.0128 *  
## transparencyCLEAR:num_featurestwo  0.004880   0.003211   1.520   0.1291    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.01963 on 594 degrees of freedom
## Multiple R-squared:  0.03867,	Adjusted R-squared:  0.03381 
## F-statistic: 7.964 on 3 and 594 DF,  p-value: 3.264e-05
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># look at ANOVA</span>
<span class="hl std">anova_table</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">anova</span><span class="hl std">(lm_model)</span>

<span class="hl com"># export in LaTEX format</span>
<span class="hl kwd">xtable</span><span class="hl std">(anova_table)</span>
</pre></div>
<div class="output"><pre class="knitr r">## % latex table generated in R 3.5.1 by xtable 1.8-2 package
## % Fri Jan  8 17:58:35 2021
## \begin{table}[ht]
## \centering
## \begin{tabular}{lrrrrr}
##   \hline
##  &amp; Df &amp; Sum Sq &amp; Mean Sq &amp; F value &amp; Pr($&gt;$F) \\ 
##   \hline
## transparency &amp; 1 &amp; 0.01 &amp; 0.01 &amp; 17.53 &amp; 0.0000 \\ 
##   num\_features &amp; 1 &amp; 0.00 &amp; 0.00 &amp; 4.05 &amp; 0.0446 \\ 
##   transparency:num\_features &amp; 1 &amp; 0.00 &amp; 0.00 &amp; 2.31 &amp; 0.1291 \\ 
##   Residuals &amp; 594 &amp; 0.23 &amp; 0.00 &amp;  &amp;  \\ 
##    \hline
## \end{tabular}
## \end{table}
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># get the marginal means for all combinations of transparency and number of features</span>
<span class="hl std">means</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">emmeans</span><span class="hl std">(lm_model,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;transparency&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;num_features&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans(lm_model, c(&quot;transparency&quot;, &quot;num_features&quot;)): could not find function &quot;emmeans&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># setup contrasts</span>
<span class="hl std">clist</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwc">clear_vs_bb</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">,</span> <span class="hl opt">-</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">1</span><span class="hl std">))</span>
<span class="hl std">emmeans</span><span class="hl opt">::</span><span class="hl kwd">contrast</span><span class="hl std">(means, clist)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in emmeans::contrast(means, clist): object 'means' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">plot_data</span> <span class="hl kwb">&lt;-</span> <span class="hl std">q12_data</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">group_by</span><span class="hl std">(condition)</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">summarize</span><span class="hl std">(</span><span class="hl kwc">mean</span> <span class="hl std">=</span> <span class="hl kwd">mean</span><span class="hl std">(final_pred),</span>
            <span class="hl kwc">se</span> <span class="hl std">=</span> <span class="hl kwd">sd</span><span class="hl std">(final_pred)</span> <span class="hl opt">/</span> <span class="hl kwd">sqrt</span><span class="hl std">(</span><span class="hl kwd">n</span><span class="hl std">()),</span>
            <span class="hl kwc">model_pred</span> <span class="hl std">=</span> <span class="hl kwd">mean</span><span class="hl std">(model_pred),</span>
            <span class="hl kwc">facet</span> <span class="hl std">=</span> <span class="hl str">'Experiment 2, apartment 12: 1 bed, 3 bath'</span><span class="hl std">)</span>
<span class="hl kwd">print</span><span class="hl std">(plot_data</span><span class="hl opt">$</span><span class="hl std">mean)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 145733.3 135600.0 132449.0 121655.6
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">breaks</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">seq</span><span class="hl std">(</span><span class="hl num">0</span><span class="hl std">,</span> <span class="hl num">150000</span><span class="hl std">,</span> <span class="hl num">50000</span><span class="hl std">)</span>
<span class="hl kwd">ggplot</span><span class="hl std">(plot_data,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">x</span> <span class="hl std">= condition,</span> <span class="hl kwc">y</span> <span class="hl std">= mean,</span> <span class="hl kwc">color</span> <span class="hl std">= condition,</span> <span class="hl kwc">fill</span> <span class="hl std">= condition,</span> <span class="hl kwc">label</span><span class="hl std">=</span><span class="hl kwd">sprintf</span><span class="hl std">(</span><span class="hl str">&quot;$%gk&quot;</span><span class="hl std">,</span> <span class="hl kwd">round</span><span class="hl std">(mean</span><span class="hl opt">/</span><span class="hl num">1e3</span><span class="hl std">,</span> <span class="hl kwc">digits</span><span class="hl std">=</span><span class="hl num">0</span><span class="hl std">))))</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_bar</span><span class="hl std">(</span><span class="hl kwc">stat</span> <span class="hl std">=</span> <span class="hl str">&quot;identity&quot;</span><span class="hl std">,</span> <span class="hl kwc">alpha</span><span class="hl std">=</span><span class="hl num">.5</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_errorbar</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">ymin</span> <span class="hl std">= mean</span> <span class="hl opt">-</span> <span class="hl std">se,</span> <span class="hl kwc">ymax</span> <span class="hl std">= mean</span> <span class="hl opt">+</span> <span class="hl std">se),</span> <span class="hl kwc">width</span> <span class="hl std">=</span> <span class="hl num">0.1</span><span class="hl std">,</span> <span class="hl kwc">color</span> <span class="hl std">=</span> <span class="hl str">&quot;black&quot;</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_hline</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">yintercept</span> <span class="hl std">= model_pred,</span> <span class="hl kwc">linetype</span> <span class="hl std">=</span> <span class="hl str">&quot;Model's prediction&quot;</span><span class="hl std">),</span> <span class="hl kwc">alpha</span> <span class="hl std">=</span> <span class="hl num">0.5</span><span class="hl std">,</span> <span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">scale_fill_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span><span class="hl kwc">values</span><span class="hl std">=my_pallete)</span> <span class="hl opt">+</span> <span class="hl kwd">scale_colour_manual</span><span class="hl std">(</span><span class="hl kwc">guide</span> <span class="hl std">=</span> <span class="hl num">FALSE</span><span class="hl std">,</span> <span class="hl kwc">values</span><span class="hl std">=my_pallete)</span><span class="hl opt">+</span>
  <span class="hl kwd">xlab</span><span class="hl std">(</span><span class="hl str">''</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">ylab</span><span class="hl std">(</span><span class="hl str">'Mean participant prediction'</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">geom_text</span><span class="hl std">(</span><span class="hl kwc">colour</span><span class="hl std">=</span><span class="hl str">'black'</span><span class="hl std">,</span> <span class="hl kwc">vjust</span><span class="hl std">=</span><span class="hl opt">-</span><span class="hl num">1.5</span><span class="hl std">)</span><span class="hl opt">+</span>
  <span class="hl kwd">scale_y_continuous</span><span class="hl std">(</span><span class="hl kwc">breaks</span> <span class="hl std">= breaks,</span> <span class="hl kwc">labels</span> <span class="hl std">=</span> <span class="hl kwd">sprintf</span><span class="hl std">(</span><span class="hl str">'$%gk'</span><span class="hl std">, breaks</span><span class="hl opt">/</span><span class="hl num">1e3</span><span class="hl std">))</span> <span class="hl opt">+</span>
  <span class="hl kwd">scale_linetype_manual</span><span class="hl std">(</span><span class="hl kwc">values</span> <span class="hl std">=</span> <span class="hl str">&quot;dashed&quot;</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">theme</span><span class="hl std">(</span><span class="hl kwc">legend.position</span><span class="hl std">=</span><span class="hl str">&quot;bottom&quot;</span><span class="hl std">,</span><span class="hl kwc">axis.title.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">),</span> <span class="hl kwc">axis.title.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">18</span><span class="hl std">),</span>
        <span class="hl kwc">axis.text.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">9</span><span class="hl std">),</span> <span class="hl kwc">axis.text.y</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">14</span><span class="hl std">),</span>
        <span class="hl kwc">legend.text</span><span class="hl std">=</span><span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">9</span><span class="hl std">),</span> <span class="hl kwc">legend.title</span> <span class="hl std">=</span> <span class="hl kwd">element_blank</span><span class="hl std">(),</span> <span class="hl kwc">legend.spacing.x</span><span class="hl std">=</span><span class="hl kwd">unit</span><span class="hl std">(</span><span class="hl num">0.5</span><span class="hl std">,</span><span class="hl str">&quot;line&quot;</span><span class="hl std">),</span> <span class="hl kwc">legend.margin</span><span class="hl std">=</span><span class="hl kwd">margin</span><span class="hl std">(</span><span class="hl kwc">t</span><span class="hl std">=</span><span class="hl opt">-</span><span class="hl num">.5</span><span class="hl std">,</span> <span class="hl kwc">r</span><span class="hl std">=</span><span class="hl num">0</span><span class="hl std">,</span> <span class="hl kwc">b</span><span class="hl std">=</span><span class="hl num">0</span><span class="hl std">,</span> <span class="hl kwc">l</span><span class="hl std">=</span><span class="hl num">0</span><span class="hl std">,</span> <span class="hl kwc">unit</span><span class="hl std">=</span><span class="hl str">&quot;cm&quot;</span><span class="hl std">),</span>
        <span class="hl kwc">strip.text</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">size</span><span class="hl std">=</span><span class="hl num">9</span><span class="hl std">))</span><span class="hl opt">+</span>
  <span class="hl kwd">facet_wrap</span><span class="hl std">(</span><span class="hl opt">~</span> <span class="hl std">facet)</span>
</pre></div>
</div><div class="rimage center"><img src="figure/analyze-experiment-2-Rhtmlauto-report-5.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl kwc">filename</span> <span class="hl std">=</span> <span class="hl str">&quot;figures/exp2/q12_pred.pdf&quot;</span><span class="hl std">,</span> <span class="hl kwc">height</span><span class="hl std">=</span><span class="hl num">6</span><span class="hl std">,</span> <span class="hl kwc">width</span><span class="hl std">=</span><span class="hl num">6</span><span class="hl std">)</span>
</pre></div>
</div></div>

  <p>The R session information (including the OS info, R version and all
    packages used):</p>

<div class="chunk" id="session-info"><div class="rcode"><div class="source"><pre class="knitr r">    <span class="hl kwd">sessionInfo</span><span class="hl std">()</span>
</pre></div>
<div class="output"><pre class="knitr r">## R version 3.5.1 (2018-07-02)
## Platform: x86_64-apple-darwin15.6.0 (64-bit)
## Running under: macOS  10.16
## 
## Matrix products: default
## BLAS: /Library/Frameworks/R.framework/Versions/3.5/Resources/lib/libRblas.0.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/3.5/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] forcats_0.3.0   stringr_1.3.1   purrr_0.2.5     tibble_2.1.3    tidyverse_1.2.1
##  [6] ggridges_0.5.1  lsr_0.5         xtable_1.8-2    tidyr_0.8.1     dplyr_0.8.3    
## [11] magrittr_1.5    readr_1.1.1     ggrepel_0.8.0   ggplot2_3.0.0   scales_0.5.0   
## [16] lsmeans_2.27-62 lmerTest_3.0-1  lme4_1.1-17     Matrix_1.2-14  
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.3        lubridate_1.7.4   mvtnorm_1.0-8     lattice_0.20-35  
##  [5] zoo_1.8-3         digest_0.6.15     assertthat_0.2.0  R6_2.2.2         
##  [9] cellranger_1.1.0  plyr_1.8.4        backports_1.1.2   evaluate_0.11    
## [13] coda_0.19-1       httr_1.3.1        highr_0.7         pillar_1.4.3     
## [17] rlang_0.4.2       lazyeval_0.2.1    multcomp_1.4-8    readxl_1.1.0     
## [21] minqa_1.2.4       rstudioapi_0.7    nloptr_1.0.4      labeling_0.3     
## [25] splines_3.5.1     munsell_0.5.0     broom_0.5.0       compiler_3.5.1   
## [29] numDeriv_2016.8-1 modelr_0.1.2      pkgconfig_2.0.1   tidyselect_0.2.5 
## [33] codetools_0.2-15  crayon_1.3.4      withr_2.1.2       MASS_7.3-50      
## [37] grid_3.5.1        nlme_3.1-137      jsonlite_1.5      gtable_0.2.0     
## [41] estimability_1.3  cli_1.1.0         stringi_1.2.3     reshape2_1.4.3   
## [45] xml2_1.2.0        sandwich_2.4-0    TH.data_1.0-9     tools_3.5.1      
## [49] glue_1.3.1        emmeans_1.4       hms_0.4.2         survival_2.42-3  
## [53] colorspace_1.3-2  rvest_0.3.2       knitr_1.20        haven_1.1.2
</pre></div>
<div class="source"><pre class="knitr r">    <span class="hl kwd">Sys.time</span><span class="hl std">()</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] &quot;2021-01-08 17:58:38 EST&quot;
</pre></div>
</div></div>


</body>
</html>
